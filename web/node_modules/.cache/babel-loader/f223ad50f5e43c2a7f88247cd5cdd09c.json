{"ast":null,"code":"import _slicedToArray from \"/home/lucas/Public/repos/financix/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/lucas/Public/repos/financix/src/pages/Budgets/index.jsx\";\nimport React, { useState } from 'react';\nimport chroma from 'chroma-js';\nimport AddBudgets from '../../components/AddBudgets';\nimport BudgetsList from '../../components/BudgetsList';\nimport PageTitle from '../../components/PageTitle';\nimport { Button } from '../../components/Button';\nimport Modal from '../../containers/Modal';\nimport Card from '../../containers/Card';\nimport Pie from '../../components/Graphs/Pie';\nimport useBudgets from '../../hooks/useBudgets';\n\nconst Budgets = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        modalOpen = _useState2[0],\n        setModalOpen = _useState2[1];\n\n  const _useBudgets = useBudgets(),\n        budgets = _useBudgets.budgets,\n        loading = _useBudgets.loading,\n        setBudgets = _useBudgets.setBudgets;\n\n  const handleSetBudgets = newBudget => {\n    const filteredBudgets = budgets.filter(budget => newBudget.category.value !== budget.id);\n    console.log(filteredBudgets);\n    const newBudgets = [...filteredBudgets, {\n      name: newBudget.category.label,\n      value: parseFloat(newBudget.amount.replace('.', '').replace(',', '.')),\n      id: newBudget.category.value\n    }];\n    setBudgets(newBudgets);\n  };\n\n  const colors = chroma.scale(['#007bff', '#9c6cf3', '#dd5ad8', '#ff6760', '#ff8738', '#ffa600']).mode('lch').colors(budgets.length);\n\n  const handleClose = () => {\n    setModalOpen(false);\n  };\n\n  const handleOpenModal = () => {\n    setModalOpen(true);\n  };\n\n  return loading ? React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Loading ...\") : React.createElement(React.Fragment, null, React.createElement(PageTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Budgets\"), React.createElement(Card, {\n    borderRadius: \"10px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Pie, {\n    width: 300,\n    height: 300,\n    innerRadius: 50,\n    outerRadius: 150,\n    data: budgets,\n    legend: true,\n    colors: colors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(Card, {\n    borderRadius: \"10px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(BudgetsList, {\n    data: budgets,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(Button, {\n    onClick: handleOpenModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Add Budget\"), React.createElement(Modal, {\n    open: modalOpen,\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(AddBudgets, {\n    modalClose: handleClose,\n    handleSetBudgets: handleSetBudgets,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })));\n};\n\nexport default Budgets;","map":{"version":3,"sources":["/home/lucas/Public/repos/financix/src/pages/Budgets/index.jsx"],"names":["React","useState","chroma","AddBudgets","BudgetsList","PageTitle","Button","Modal","Card","Pie","useBudgets","Budgets","modalOpen","setModalOpen","budgets","loading","setBudgets","handleSetBudgets","newBudget","filteredBudgets","filter","budget","category","value","id","console","log","newBudgets","name","label","parseFloat","amount","replace","colors","scale","mode","length","handleClose","handleOpenModal"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport chroma from 'chroma-js';\nimport AddBudgets from '../../components/AddBudgets';\nimport BudgetsList from '../../components/BudgetsList';\nimport PageTitle from '../../components/PageTitle';\nimport { Button } from '../../components/Button';\nimport Modal from '../../containers/Modal';\nimport Card from '../../containers/Card';\nimport Pie from '../../components/Graphs/Pie';\nimport useBudgets from '../../hooks/useBudgets';\n\nconst Budgets = () => {\n  const [modalOpen, setModalOpen] = useState(false);\n\n  const { budgets, loading, setBudgets } = useBudgets();\n\n  const handleSetBudgets = newBudget => {\n    const filteredBudgets = budgets.filter(\n      budget => newBudget.category.value !== budget.id\n    );\n\n    console.log(filteredBudgets);\n\n    const newBudgets = [\n      ...filteredBudgets,\n      {\n        name: newBudget.category.label,\n        value: parseFloat(newBudget.amount.replace('.', '').replace(',', '.')),\n        id: newBudget.category.value,\n      },\n    ];\n    setBudgets(newBudgets);\n  };\n  const colors = chroma\n    .scale(['#007bff', '#9c6cf3', '#dd5ad8', '#ff6760', '#ff8738', '#ffa600'])\n    .mode('lch')\n    .colors(budgets.length);\n\n  const handleClose = () => {\n    setModalOpen(false);\n  };\n\n  const handleOpenModal = () => {\n    setModalOpen(true);\n  };\n\n  return loading ? (\n    <p>Loading ...</p>\n  ) : (\n    <>\n      <PageTitle>Budgets</PageTitle>\n      <Card borderRadius=\"10px\">\n        <Pie\n          width={300}\n          height={300}\n          innerRadius={50}\n          outerRadius={150}\n          data={budgets}\n          legend\n          colors={colors}\n        />\n      </Card>\n      <Card borderRadius=\"10px\">\n        <BudgetsList data={budgets} />\n      </Card>\n      <Button onClick={handleOpenModal}>Add Budget</Button>\n      <Modal open={modalOpen} onClose={handleClose}>\n        <AddBudgets\n          modalClose={handleClose}\n          handleSetBudgets={handleSetBudgets}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default Budgets;\n"]},"metadata":{},"sourceType":"module"}