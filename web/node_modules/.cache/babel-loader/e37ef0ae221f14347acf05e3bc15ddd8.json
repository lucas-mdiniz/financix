{"ast":null,"code":"import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _sortBy from \"lodash/sortBy\";\nimport _isFunction from \"lodash/isFunction\";\nimport _get from \"lodash/get\";\nimport _range from \"lodash/range\";\nimport _throttle from \"lodash/throttle\";\nimport _isNil from \"lodash/isNil\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport Surface from '../container/Surface';\nimport Layer from '../container/Layer';\nimport Tooltip from '../component/Tooltip';\nimport Legend from '../component/Legend';\nimport Curve from '../shape/Curve';\nimport Cross from '../shape/Cross';\nimport Sector from '../shape/Sector';\nimport Dot from '../shape/Dot';\nimport Rectangle from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType } from '../util/ReactUtils';\nimport CartesianAxis from '../cartesian/CartesianAxis';\nimport Brush from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, getValueByDataKey, isCategorialAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { filterProps, adaptEventHandlers } from '../util/types';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\nvar State = function State() {\n  _classCallCheck(this, State);\n\n  this.chartX = void 0;\n  this.chartY = void 0;\n  this.dataStartIndex = void 0;\n  this.dataEndIndex = void 0;\n  this.activeTooltipIndex = void 0;\n  this.isTooltipActive = void 0;\n  this.updateId = void 0;\n  this.xAxisMap = void 0;\n  this.yAxisMap = void 0;\n  this.orderedTooltipTicks = void 0;\n  this.tooltipAxis = void 0;\n  this.tooltipTicks = void 0;\n  this.graphicalItems = void 0;\n  this.activeCoordinate = void 0;\n  this.offset = void 0;\n  this.angleAxisMap = void 0;\n  this.radiusAxisMap = void 0;\n  this.formatedGraphicalItems = void 0;\n  this.activePayload = void 0;\n  this.tooltipAxisBandSize = void 0;\n  this.activeItem = void 0;\n  this.activeLabel = void 0;\n  this.xValue = void 0;\n  this.yValue = void 0;\n};\n\nvar generateCategoricalChart = function generateCategoricalChart(_ref) {\n  var chartName = _ref.chartName,\n      GraphicalChild = _ref.GraphicalChild,\n      _ref$eventType = _ref.eventType,\n      eventType = _ref$eventType === void 0 ? 'axis' : _ref$eventType,\n      axisComponents = _ref.axisComponents,\n      legendContent = _ref.legendContent,\n      formatAxisMap = _ref.formatAxisMap,\n      defaultProps = _ref.defaultProps;\n\n  var CategoricalChartWrapper =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component); // todo join specific chart propTypes\n\n    /**\n     * Returns default, reset state for the categorical chart.\n     * @param {Object} props Props object to use when creating the default state\n     * @return {Object} Whole new state\n     */\n\n\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoricalChartWrapper).call(this, _props));\n      _this.uniqueChartId = void 0;\n      _this.clipPathId = void 0;\n      _this.legendInstance = void 0;\n      _this.container = void 0;\n\n      _this.handleLegendBBoxUpdate = function (box) {\n        if (box && _this.legendInstance) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_this.updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }));\n        }\n      };\n\n      _this.handleReceiveSyncEvent = function (cId, chartId, data) {\n        var _this$props = _this.props,\n            syncId = _this$props.syncId,\n            layout = _this$props.layout;\n        var updateId = _this.state.updateId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          var dataStartIndex = data.dataStartIndex,\n              dataEndIndex = data.dataEndIndex;\n\n          if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n            _this.setState(_objectSpread({\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex,\n              updateId: updateId\n            })));\n          } else if (!_isNil(data.activeTooltipIndex)) {\n            var chartX = data.chartX,\n                chartY = data.chartY,\n                activeTooltipIndex = data.activeTooltipIndex;\n            var _this$state2 = _this.state,\n                offset = _this$state2.offset,\n                tooltipTicks = _this$state2.tooltipTicks;\n\n            if (!offset) {\n              return;\n            }\n\n            var viewBox = _objectSpread({}, offset, {\n              x: offset.left,\n              y: offset.top\n            }); // When a categotical chart is combined with another chart, the value of chartX\n            // and chartY may beyond the boundaries.\n\n\n            var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n            var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n            var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n\n            var activePayload = _this.getTooltipContent(activeTooltipIndex);\n\n            var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n              x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n              y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n            } : originCoordinate;\n\n            _this.setState(_objectSpread({}, data, {\n              activeLabel: activeLabel,\n              activeCoordinate: activeCoordinate,\n              activePayload: activePayload\n            }));\n          } else {\n            _this.setState(data);\n          }\n        }\n      };\n\n      _this.handleBrushChange = function (_ref2) {\n        var startIndex = _ref2.startIndex,\n            endIndex = _ref2.endIndex; // Only trigger changes if the extents of the brush have actually changed\n\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      };\n\n      _this.handleMouseEnter = function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var nextState = _objectSpread({}, mouse, {\n            isTooltipActive: true\n          });\n\n          _this.setState(nextState);\n\n          _this.triggerSyncEvent(nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(nextState, e);\n          }\n        }\n      };\n\n      _this.triggeredAfterMouseMove = function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread({}, mouse, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      };\n\n      _this.handleItemMouseEnter = function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      };\n\n      _this.handleItemMouseLeave = function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      };\n\n      _this.handleMouseMove = function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      };\n\n      _this.handleMouseLeave = function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n      };\n\n      _this.handleOuterEvent = function (e) {\n        var eventName = getReactEventByType(e);\n\n        var event = _get(_this.props, \"\".concat(eventName));\n\n        if (eventName && _isFunction(event)) {\n          var mouse = _this.getMouseInfo(e);\n\n          var handler = event;\n          handler(mouse, e);\n        }\n      };\n\n      _this.handleClick = function (e) {\n        var onClick = _this.props.onClick;\n\n        if (_isFunction(onClick)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onClick(mouse, e);\n        }\n      };\n\n      _this.handleMouseDown = function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseDown(mouse, e);\n        }\n      };\n\n      _this.handleMouseUp = function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseUp(mouse, e);\n        }\n      };\n\n      _this.handleTouchMove = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchStart = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchEnd = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      };\n\n      _this.verticalCoordinatesGenerator = function (_ref3) {\n        var xAxis = _ref3.xAxis,\n            width = _ref3.width,\n            height = _ref3.height,\n            offset = _ref3.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, xAxis, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      };\n\n      _this.horizontalCoordinatesGenerator = function (_ref4) {\n        var yAxis = _ref4.yAxis,\n            width = _ref4.width,\n            height = _ref4.height,\n            offset = _ref4.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, yAxis, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      };\n\n      _this.axesTicksGenerator = function (axis) {\n        return getTicksOfAxis(axis, true);\n      };\n\n      _this.tooltipTicksGenerator = function (axisMap) {\n        var axis = getAnyElementOfObject(axisMap);\n        var tooltipTicks = getTicksOfAxis(axis, false, true);\n        return {\n          tooltipTicks: tooltipTicks,\n          orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n            return o.coordinate;\n          }),\n          tooltipAxis: axis,\n          tooltipAxisBandSize: getBandSizeOfAxis(axis)\n        };\n      };\n\n      _this.renderCursor = function (element) {\n        var _this$state3 = _this.state,\n            isTooltipActive = _this$state3.isTooltipActive,\n            activeCoordinate = _this$state3.activeCoordinate,\n            activePayload = _this$state3.activePayload,\n            offset = _this$state3.offset;\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate) {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset, {}, restProps, {}, filterProps(element.props.cursor), {\n          payload: activePayload,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return isValidElement(element.props.cursor) ? cloneElement(element.props.cursor, cursorProps) : createElement(cursorComp, cursorProps);\n      };\n\n      _this.renderPolarAxis = function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n\n        var axisOption = axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return cloneElement(element, _objectSpread({}, axisOption, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      };\n\n      _this.renderXAxis = function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderYAxis = function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderGrid = function (element) {\n        var _this$state4 = _this.state,\n            xAxisMap = _this$state4.xAxisMap,\n            yAxisMap = _this$state4.yAxisMap,\n            offset = _this$state4.offset;\n        var _this$props2 = _this.props,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, Number.isFinite);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      };\n\n      _this.renderPolarGrid = function (element) {\n        var _this$state5 = _this.state,\n            radiusAxisMap = _this$state5.radiusAxisMap,\n            angleAxisMap = _this$state5.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return cloneElement(element, {\n          polarAngles: getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid'\n        });\n      };\n\n      _this.renderLegend = function () {\n        var formatedGraphicalItems = _this.state.formatedGraphicalItems;\n        var _this$props3 = _this.props,\n            children = _this$props3.children,\n            width = _this$props3.width,\n            height = _this$props3.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var legendHeight = height - (margin.top || 0) - (margin.bottom || 0);\n        var props = getLegendProps({\n          children: children,\n          formatedGraphicalItems: formatedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, [\"item\"]);\n\n        return cloneElement(item, _objectSpread({}, otherProps, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this.legendInstance = legend;\n          },\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      };\n\n      _this.renderTooltip = function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state6 = _this.state,\n            isTooltipActive = _this$state6.isTooltipActive,\n            activeCoordinate = _this$state6.activeCoordinate,\n            activePayload = _this$state6.activePayload,\n            activeLabel = _this$state6.activeLabel,\n            offset = _this$state6.offset;\n        return cloneElement(tooltipItem, {\n          viewBox: _objectSpread({}, offset, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      };\n\n      _this.renderBrush = function (element) {\n        var _this$props4 = _this.props,\n            margin = _this$props4.margin,\n            data = _this$props4.data;\n        var _this$state7 = _this.state,\n            offset = _this$state7.offset,\n            dataStartIndex = _this$state7.dataStartIndex,\n            dataEndIndex = _this$state7.dataEndIndex,\n            updateId = _this$state7.updateId; // TODO: update brush when children update\n\n        return cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      };\n\n      _this.renderReferenceElement = function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state8 = _this.state,\n            xAxisMap = _this$state8.xAxisMap,\n            yAxisMap = _this$state8.yAxisMap,\n            offset = _this$state8.offset;\n        var _element$props = element.props,\n            xAxisId = _element$props.xAxisId,\n            yAxisId = _element$props.yAxisId;\n        return cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      };\n\n      _this.renderGraphicChild = function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var graphicalItem = cloneElement(element, item.props);\n        var _this$state9 = _this.state,\n            isTooltipActive = _this$state9.isTooltipActive,\n            tooltipAxis = _this$state9.tooltipAxis,\n            activeTooltipIndex = _this$state9.activeTooltipIndex,\n            activeLabel = _this$state9.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var _item$props = item.props,\n            points = _item$props.points,\n            isRange = _item$props.isRange,\n            baseLine = _item$props.baseLine;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            hide = _item$item$props.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          // @ts-ignore\n          return tooltipAxis.dataKey(entry.payload);\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // number transform to string\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      };\n\n      _this.renderCustomized = function (element) {\n        return cloneElement(element, _objectSpread({}, _this.props, {}, _this.state));\n      };\n\n      var defaultState = CategoricalChartWrapper.createDefaultState(_props);\n      var _updateId = 0;\n      _this.state = _objectSpread({}, defaultState, {\n        updateId: 0\n      }, _this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: _props\n      }, defaultState, {\n        updateId: _updateId\n      })));\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      return _this;\n    }\n    /* eslint-disable  react/no-did-mount-set-state */\n\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n      } // eslint-disable-next-line camelcase\n\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        var _this2 = this;\n\n        var _this$props5 = this.props,\n            data = _this$props5.data,\n            children = _this$props5.children,\n            width = _this$props5.width,\n            height = _this$props5.height,\n            layout = _this$props5.layout,\n            stackOffset = _this$props5.stackOffset,\n            margin = _this$props5.margin;\n        var updateId = this.state.updateId;\n\n        if (nextProps.data !== data || nextProps.width !== width || nextProps.height !== height || nextProps.layout !== layout || nextProps.stackOffset !== stackOffset || !shallowEqual(nextProps.margin, margin)) {\n          var defaultState = CategoricalChartWrapper.createDefaultState(nextProps);\n          this.setState(_objectSpread({}, defaultState, {\n            updateId: updateId + 1\n          }, this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n            props: nextProps\n          }, defaultState, {\n            updateId: updateId + 1\n          }))));\n        } else if (!isChildrenEqual(nextProps.children, children)) {\n          // update configuration in chilren\n          var hasGlobalData = !_isNil(nextProps.data);\n          var newUpdateId = hasGlobalData ? updateId : updateId + 1;\n          this.setState(function (prevState) {\n            return _objectSpread({\n              updateId: newUpdateId\n            }, _this2.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n              props: nextProps\n            }, prevState, {\n              updateId: newUpdateId\n            })));\n          });\n        } // add syncId\n\n\n        if (_isNil(this.props.syncId) && !_isNil(nextProps.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(this.props.syncId) && _isNil(nextProps.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n      /**\n      * Get the configuration of all x-axis or y-axis\n      * @param  {Object} props          Latest props\n      * @param  {String} axisType       The type of axis\n      * @param  {Array}  graphicalItems The instances of item\n      * @param  {Object} stackGroups    The items grouped by axisId and stackId\n      * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n      * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n      * @return {Object}          Configuration\n      */\n\n    }, {\n      key: \"getAxisMap\",\n      value: function getAxisMap(props, _ref5) {\n        var _ref5$axisType = _ref5.axisType,\n            axisType = _ref5$axisType === void 0 ? 'xAxis' : _ref5$axisType,\n            AxisComp = _ref5.AxisComp,\n            graphicalItems = _ref5.graphicalItems,\n            stackGroups = _ref5.stackGroups,\n            dataStartIndex = _ref5.dataStartIndex,\n            dataEndIndex = _ref5.dataEndIndex;\n        var children = props.children;\n        var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n        var axes = findAllByType(children, AxisComp);\n        var axisMap = {};\n\n        if (axes && axes.length) {\n          axisMap = this.getAxisMapByAxes(props, {\n            axes: axes,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        } else if (graphicalItems && graphicalItems.length) {\n          axisMap = this.getAxisMapByItems(props, {\n            Axis: AxisComp,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        }\n\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of axis instance\n       * @param  {Object} props         Latest props\n       * @param {Array}  axes           The instance of axes\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}      Configuration\n       */\n\n    }, {\n      key: \"getAxisMapByAxes\",\n      value: function getAxisMapByAxes(props, _ref6) {\n        var axes = _ref6.axes,\n            graphicalItems = _ref6.graphicalItems,\n            axisType = _ref6.axisType,\n            axisIdKey = _ref6.axisIdKey,\n            stackGroups = _ref6.stackGroups,\n            dataStartIndex = _ref6.dataStartIndex,\n            dataEndIndex = _ref6.dataEndIndex;\n        var layout = props.layout,\n            children = props.children,\n            stackOffset = props.stackOffset;\n        var isCategorial = isCategorialAxis(layout, axisType); // Eliminate duplicated axes\n\n        var axisMap = axes.reduce(function (result, child) {\n          var _child$props = child.props,\n              type = _child$props.type,\n              dataKey = _child$props.dataKey,\n              allowDataOverflow = _child$props.allowDataOverflow,\n              allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n              scale = _child$props.scale,\n              ticks = _child$props.ticks;\n          var axisId = child.props[axisIdKey];\n          var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n            graphicalItems: graphicalItems.filter(function (item) {\n              return item.props[axisIdKey] === axisId;\n            }),\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n          var len = displayedData.length;\n\n          if (!result[axisId]) {\n            var domain, duplicateDomain, categoricalDomain;\n\n            if (dataKey) {\n              domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n              if (type === 'category' && isCategorial) {\n                var duplicate = hasDuplicate(domain);\n\n                if (allowDuplicatedCategory && duplicate) {\n                  duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n                  domain = _range(0, len);\n                } else if (!allowDuplicatedCategory) {\n                  // remove duplicated category\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                }\n              } else if (type === 'category') {\n                if (!allowDuplicatedCategory) {\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                } else {\n                  // eliminate undefined or null or empty string\n                  domain = domain.filter(function (entry) {\n                    return entry !== '' && !_isNil(entry);\n                  });\n                }\n              } else if (type === 'number') {\n                var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n                  return item.props[axisIdKey] === axisId && !item.props.hide;\n                }), dataKey, axisType);\n\n                if (errorBarsDomain) {\n                  domain = errorBarsDomain;\n                }\n              }\n\n              if (isCategorial && (type === 'number' || scale !== 'auto')) {\n                categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n              }\n            } else if (isCategorial) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n              // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n              domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n            } else {\n              domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), type, true);\n            }\n\n            if (type === 'number') {\n              // To detect wether there is any reference lines whose props alwaysShow is true\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n              if (child.props.domain) {\n                domain = parseSpecifiedDomain(child.props.domain, domain, allowDataOverflow);\n              }\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({}, child.props, {\n              axisType: axisType,\n              domain: domain,\n              categoricalDomain: categoricalDomain,\n              duplicateDomain: duplicateDomain,\n              originalDomain: child.props.domain,\n              isCategorial: isCategorial,\n              layout: layout\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of item,\n       * this kind of axis does not display in chart\n       * @param  {Object} props         Latest props\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {ReactElement} Axis    Axis Component\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}               Configuration\n       */\n\n    }, {\n      key: \"getAxisMapByItems\",\n      value: function getAxisMapByItems(props, _ref7) {\n        var graphicalItems = _ref7.graphicalItems,\n            Axis = _ref7.Axis,\n            axisType = _ref7.axisType,\n            axisIdKey = _ref7.axisIdKey,\n            stackGroups = _ref7.stackGroups,\n            dataStartIndex = _ref7.dataStartIndex,\n            dataEndIndex = _ref7.dataEndIndex;\n        var layout = props.layout,\n            children = props.children;\n        var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n          graphicalItems: graphicalItems,\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex\n        });\n        var len = displayedData.length;\n        var isCategorial = isCategorialAxis(layout, axisType);\n        var index = -1; // The default type of x-axis is category axis,\n        // The default contents of x-axis is the serial numbers of data\n        // The default type of y-axis is number axis\n        // The default contents of y-axis is the domain of data\n\n        var axisMap = graphicalItems.reduce(function (result, child) {\n          var axisId = child.props[axisIdKey];\n\n          if (!result[axisId]) {\n            index++;\n            var domain;\n\n            if (isCategorial) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n              domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            } else {\n              domain = parseSpecifiedDomain(Axis.defaultProps.domain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), 'number'), Axis.defaultProps.allowDataOverflow);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({\n              axisType: axisType\n            }, Axis.defaultProps, {\n              hide: true,\n              orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n              domain: domain,\n              originalDomain: Axis.defaultProps.domain,\n              isCategorial: isCategorial,\n              layout: layout // specify scale when no Axis\n              // scale: isCategorial ? 'band' : 'linear',\n\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      }\n    }, {\n      key: \"getActiveCoordinate\",\n      value: function getActiveCoordinate(tooltipTicks, activeIndex, rangeObj) {\n        var layout = this.props.layout;\n        var entry = tooltipTicks.find(function (tick) {\n          return tick && tick.index === activeIndex;\n        });\n\n        if (entry) {\n          if (layout === 'horizontal') {\n            return {\n              x: entry.coordinate,\n              y: rangeObj.y\n            };\n          }\n\n          if (layout === 'vertical') {\n            return {\n              x: rangeObj.x,\n              y: entry.coordinate\n            };\n          }\n\n          if (layout === 'centric') {\n            var _angle = entry.coordinate;\n            var _radius = rangeObj.radius;\n            return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle), {\n              angle: _angle,\n              radius: _radius\n            });\n          }\n\n          var radius = entry.coordinate;\n          var angle = rangeObj.angle;\n          return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle), {\n            angle: angle,\n            radius: radius\n          });\n        }\n\n        return originCoordinate;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state10 = this.state,\n            xAxisMap = _this$state10.xAxisMap,\n            yAxisMap = _this$state10.yAxisMap;\n\n        if (eventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread({}, e, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var _this$state11 = this.state,\n            ticks = _this$state11.orderedTooltipTicks,\n            axis = _this$state11.tooltipAxis,\n            tooltipTicks = _this$state11.tooltipTicks;\n        var pos = this.calculateTooltipPos(rangeObj);\n        var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n        if (activeIndex >= 0 && tooltipTicks) {\n          var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n          var activePayload = this.getTooltipContent(activeIndex, activeLabel);\n          var activeCoordinate = this.getActiveCoordinate(ticks, activeIndex, rangeObj);\n          return _objectSpread({}, e, {\n            activeTooltipIndex: activeIndex,\n            activeLabel: activeLabel,\n            activePayload: activePayload,\n            activeCoordinate: activeCoordinate\n          });\n        }\n\n        return null;\n      }\n      /**\n       * Get the content to be displayed in the tooltip\n       * @param  {Number} activeIndex    Active index of data\n       * @param  {String} activeLabel    Active label of data\n       * @return {Array}                 The content of tooltip\n       */\n\n    }, {\n      key: \"getTooltipContent\",\n      value: function getTooltipContent(activeIndex, activeLabel) {\n        var _this$state12 = this.state,\n            graphicalItems = _this$state12.graphicalItems,\n            tooltipAxis = _this$state12.tooltipAxis;\n        var displayedData = CategoricalChartWrapper.getDisplayedData(this.props, this.state);\n\n        if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n          return null;\n        } // get data by activeIndex when the axis don't allow duplicated category\n\n\n        return graphicalItems.reduce(function (result, child) {\n          var hide = child.props.hide;\n\n          if (hide) {\n            return result;\n          }\n\n          var _child$props2 = child.props,\n              dataKey = _child$props2.dataKey,\n              name = _child$props2.name,\n              unit = _child$props2.unit,\n              formatter = _child$props2.formatter,\n              data = _child$props2.data,\n              tooltipType = _child$props2.tooltipType;\n          var payload;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // graphic child has data props\n            payload = findEntryInArray(data || displayedData, tooltipAxis.dataKey, activeLabel);\n          } else {\n            payload = data && data[activeIndex] || displayedData[activeIndex];\n          }\n\n          if (!payload) {\n            return result;\n          }\n\n          return [].concat(_toConsumableArray(result), [_objectSpread({}, filterProps(child), {\n            dataKey: dataKey,\n            unit: unit,\n            formatter: formatter,\n            name: name || dataKey,\n            color: getMainColorOfGraphicItem(child),\n            value: getValueByDataKey(payload, dataKey),\n            type: tooltipType,\n            payload: payload\n          })]);\n        }, []);\n      }\n    }, {\n      key: \"getFormatItems\",\n      value: function getFormatItems(props, currentState) {\n        var _this3 = this;\n\n        var graphicalItems = currentState.graphicalItems,\n            stackGroups = currentState.stackGroups,\n            offset = currentState.offset,\n            updateId = currentState.updateId,\n            dataStartIndex = currentState.dataStartIndex,\n            dataEndIndex = currentState.dataEndIndex;\n        var barSize = props.barSize,\n            layout = props.layout,\n            barGap = props.barGap,\n            barCategoryGap = props.barCategoryGap,\n            globalMaxBarSize = props.maxBarSize;\n\n        var _CategoricalChartWrap = CategoricalChartWrapper.getAxisNameByLayout(layout),\n            numericAxisName = _CategoricalChartWrap.numericAxisName,\n            cateAxisName = _CategoricalChartWrap.cateAxisName;\n\n        var hasBar = CategoricalChartWrapper.hasBar(graphicalItems);\n        var sizeList = hasBar && getBarSizeList({\n          barSize: barSize,\n          stackGroups: stackGroups\n        });\n        var formatedItems = [];\n        graphicalItems.forEach(function (item, index) {\n          var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, item);\n          var _item$props2 = item.props,\n              dataKey = _item$props2.dataKey,\n              childMaxBarSize = _item$props2.maxBarSize;\n          var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n          var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n          var axisObj = axisComponents.reduce(function (result, entry) {\n            var _objectSpread4;\n\n            var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n            var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n            var axis = axisMap && axisMap[id];\n            return _objectSpread({}, result, (_objectSpread4 = {}, _defineProperty(_objectSpread4, entry.axisType, axis), _defineProperty(_objectSpread4, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread4));\n          }, {});\n          var cateAxis = axisObj[cateAxisName];\n          var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n          var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n          var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n          var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n          var barPosition = hasBar && getBarPosition({\n            barGap: barGap,\n            barCategoryGap: barCategoryGap,\n            bandSize: bandSize,\n            sizeList: sizeList[cateAxisId],\n            maxBarSize: maxBarSize\n          });\n          var componsedFn = item && item.type && item.type.getComposedData;\n\n          if (componsedFn) {\n            var _objectSpread5;\n\n            formatedItems.push({\n              props: _objectSpread({}, componsedFn(_objectSpread({}, axisObj, {\n                displayedData: displayedData,\n                props: props,\n                dataKey: dataKey,\n                item: item,\n                bandSize: bandSize,\n                barPosition: barPosition,\n                offset: offset,\n                stackedData: stackedData,\n                layout: layout,\n                dataStartIndex: dataStartIndex,\n                dataEndIndex: dataEndIndex,\n                onItemMouseLeave: combineEventHandlers(_this3.handleItemMouseLeave, null, item.props.onMouseLeave),\n                onItemMouseEnter: combineEventHandlers(_this3.handleItemMouseEnter, null, item.props.onMouseEnter)\n              })), (_objectSpread5 = {\n                key: item.key || \"item-\".concat(index)\n              }, _defineProperty(_objectSpread5, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread5, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread5, \"animationId\", updateId), _objectSpread5)),\n              childIndex: parseChildIndex(item, props.children),\n              item: item\n            });\n          }\n        });\n        return formatedItems;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state13 = this.state,\n            activeCoordinate = _this$state13.activeCoordinate,\n            offset = _this$state13.offset,\n            tooltipAxisBandSize = _this$state13.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state14 = this.state,\n            activeCoordinate = _this$state14.activeCoordinate,\n            offset = _this$state14.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"calculateTooltipPos\",\n      value: function calculateTooltipPos(rangeObj) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal') {\n          return rangeObj.x;\n        }\n\n        if (layout === 'vertical') {\n          return rangeObj.y;\n        }\n\n        if (layout === 'centric') {\n          return rangeObj.angle;\n        }\n\n        return rangeObj.radius;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state15 = this.state,\n            angleAxisMap = _this$state15.angleAxisMap,\n            radiusAxisMap = _this$state15.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var tooltipEvents = tooltipItem && eventType === 'axis' ? {\n          onMouseEnter: this.handleMouseEnter,\n          onMouseMove: this.handleMouseMove,\n          onMouseLeave: this.handleMouseLeave,\n          onTouchMove: this.handleTouchMove,\n          onTouchStart: this.handleTouchStart,\n          onTouchEnd: this.handleTouchEnd\n        } : {};\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread({}, outerEvents, {}, tooltipEvents);\n      }\n      /**\n       * The AxisMaps are expensive to render on large data sets\n       * so provide the ability to store them in state and only update them when necessary\n       * they are dependent upon the start and end index of\n       * the brush so it's important that this method is called _after_\n       * the state is updated with any new start/end indices\n       *\n       * @param {Object} props          The props object to be used for updating the axismaps\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @param {Number} updateId       The update id\n       * @return {Object} state New state to set\n       */\n\n    }, {\n      key: \"updateStateOfAxisMapsOffsetAndStackGroups\",\n      value: function updateStateOfAxisMapsOffsetAndStackGroups(_ref8) {\n        var _this4 = this;\n\n        var props = _ref8.props,\n            dataStartIndex = _ref8.dataStartIndex,\n            dataEndIndex = _ref8.dataEndIndex,\n            updateId = _ref8.updateId;\n\n        if (!validateWidthHeight({\n          props: props\n        })) {\n          return null;\n        }\n\n        var children = props.children,\n            layout = props.layout,\n            stackOffset = props.stackOffset,\n            data = props.data,\n            reverseStackOrder = props.reverseStackOrder;\n\n        var _CategoricalChartWrap2 = CategoricalChartWrapper.getAxisNameByLayout(layout),\n            numericAxisName = _CategoricalChartWrap2.numericAxisName,\n            cateAxisName = _CategoricalChartWrap2.cateAxisName;\n\n        var graphicalItems = findAllByType(children, GraphicalChild);\n        var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n        var axisObj = axisComponents.reduce(function (result, entry) {\n          var name = \"\".concat(entry.axisType, \"Map\");\n          return _objectSpread({}, result, _defineProperty({}, name, _this4.getAxisMap(props, _objectSpread({}, entry, {\n            graphicalItems: graphicalItems,\n            stackGroups: entry.axisType === numericAxisName && stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))));\n        }, {});\n        var offset = this.calculateOffset(_objectSpread({}, axisObj, {\n          props: props,\n          graphicalItems: graphicalItems\n        }));\n        Object.keys(axisObj).forEach(function (key) {\n          axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n        });\n        var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n        var ticksObj = this.tooltipTicksGenerator(cateAxisMap);\n        var formatedGraphicalItems = this.getFormatItems(props, _objectSpread({}, axisObj, {\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex,\n          updateId: updateId,\n          graphicalItems: graphicalItems,\n          stackGroups: stackGroups,\n          offset: offset\n        }));\n        return _objectSpread({\n          formatedGraphicalItems: formatedGraphicalItems,\n          graphicalItems: graphicalItems,\n          offset: offset,\n          stackGroups: stackGroups\n        }, ticksObj, {}, axisObj);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n      /**\n       * Calculate the offset of main part in the svg element\n       * @param  {Object} props          Latest props\n       * @param  {Array}  graphicalItems The instances of item\n       * @param  {Object} xAxisMap       The configuration of x-axis\n       * @param  {Object} yAxisMap       The configuration of y-axis\n       * @return {Object} The offset of main part in the svg element\n       */\n\n    }, {\n      key: \"calculateOffset\",\n      value: function calculateOffset(_ref9) {\n        var props = _ref9.props,\n            graphicalItems = _ref9.graphicalItems,\n            _ref9$xAxisMap = _ref9.xAxisMap,\n            xAxisMap = _ref9$xAxisMap === void 0 ? {} : _ref9$xAxisMap,\n            _ref9$yAxisMap = _ref9.yAxisMap,\n            yAxisMap = _ref9$yAxisMap === void 0 ? {} : _ref9$yAxisMap;\n        var width = props.width,\n            height = props.height,\n            children = props.children;\n        var margin = props.margin || {};\n        var brushItem = findChildByType(children, Brush.displayName);\n        var legendItem = findChildByType(children, Legend.displayName);\n        var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n          var entry = yAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, result[orientation] + entry.width));\n          }\n\n          return result;\n        }, {\n          left: margin.left || 0,\n          right: margin.right || 0\n        });\n        var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n          var entry = xAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n          }\n\n          return result;\n        }, {\n          top: margin.top || 0,\n          bottom: margin.bottom || 0\n        });\n\n        var offset = _objectSpread({}, offsetV, {}, offsetH);\n\n        var brushBottom = offset.bottom;\n\n        if (brushItem) {\n          offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n        }\n\n        if (legendItem && this.legendInstance) {\n          var legendBox = this.legendInstance.getBBox();\n          offset = appendOffsetOfLegend(offset, graphicalItems, props, legendBox);\n        }\n\n        return _objectSpread({\n          brushBottom: brushBottom\n        }, offset, {\n          width: width - offset.left - offset.right,\n          height: height - offset.top - offset.bottom\n        });\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formatedGraphicalItems = this.state.formatedGraphicalItems;\n\n        for (var _i = 0, len = formatedGraphicalItems.length; _i < len; _i++) {\n          var entry = formatedGraphicalItems[_i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      value: function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props6 = this.props,\n            width = _this$props6.width,\n            height = _this$props6.height; // TODO  CartesianAxisProps need mix BaseAxisProps\n\n        return (// @ts-ignore\n          React.createElement(CartesianAxis, _extends({}, axisOptions, {\n            className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n            key: element.key || \"\".concat(displayName, \"-\").concat(index),\n            viewBox: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            ticksGenerator: this.axesTicksGenerator\n          }))\n        );\n      }\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n    }, {\n      key: \"renderActivePoints\",\n      value: function renderActivePoints(_ref10) {\n        var item = _ref10.item,\n            activePoint = _ref10.activePoint,\n            basePoint = _ref10.basePoint,\n            childIndex = _ref10.childIndex,\n            isRange = _ref10.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            dataKey = _item$item$props2.dataKey;\n\n        var dotProps = _objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot), {}, adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread({}, dotProps, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return React.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this5 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props7 = this.props,\n            children = _this$props7.children,\n            className = _this$props7.className,\n            width = _this$props7.width,\n            height = _this$props7.height,\n            style = _this$props7.style,\n            compact = _this$props7.compact,\n            others = _objectWithoutProperties(_this$props7, [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\"]);\n\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this5.container = node;\n          }\n        }), React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }], [{\n      key: \"getAxisNameByLayout\",\n      value: function getAxisNameByLayout(layout) {\n        if (layout === 'horizontal') {\n          return {\n            numericAxisName: 'yAxis',\n            cateAxisName: 'xAxis'\n          };\n        }\n\n        if (layout === 'vertical') {\n          return {\n            numericAxisName: 'xAxis',\n            cateAxisName: 'yAxis'\n          };\n        }\n\n        if (layout === 'centric') {\n          return {\n            numericAxisName: 'radiusAxis',\n            cateAxisName: 'angleAxis'\n          };\n        }\n\n        return {\n          numericAxisName: 'angleAxis',\n          cateAxisName: 'radiusAxis'\n        };\n      }\n    }, {\n      key: \"renderActiveDot\",\n      value: function renderActiveDot(option, props) {\n        var dot;\n\n        if (isValidElement(option)) {\n          dot = cloneElement(option, props);\n        } else if (_isFunction(option)) {\n          dot = option(props);\n        } else {\n          dot = React.createElement(Dot, props);\n        }\n\n        return React.createElement(Layer, {\n          className: \"recharts-active-dot\",\n          key: props.key\n        }, dot);\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component);\n\n  CategoricalChartWrapper.displayName = chartName;\n  CategoricalChartWrapper.defaultProps = _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false\n  }, defaultProps);\n\n  CategoricalChartWrapper.createDefaultState = function (props) {\n    var children = props.children,\n        defaultShowTooltip = props.defaultShowTooltip;\n    var brushItem = findChildByType(children, Brush.displayName);\n    var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n    var endIndex = brushItem && brushItem.props && brushItem.props.endIndex || props.data && props.data.length - 1 || 0;\n    return {\n      chartX: 0,\n      chartY: 0,\n      dataStartIndex: startIndex,\n      dataEndIndex: endIndex,\n      activeTooltipIndex: -1,\n      isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n    };\n  };\n\n  CategoricalChartWrapper.hasBar = function (graphicalItems) {\n    if (!graphicalItems || !graphicalItems.length) {\n      return false;\n    }\n\n    return graphicalItems.some(function (item) {\n      var name = getDisplayName(item && item.type);\n      return name && name.indexOf('Bar') >= 0;\n    });\n  };\n\n  CategoricalChartWrapper.getDisplayedData = function (props, _ref11, item) {\n    var graphicalItems = _ref11.graphicalItems,\n        dataStartIndex = _ref11.dataStartIndex,\n        dataEndIndex = _ref11.dataEndIndex;\n    var itemsData = (graphicalItems || []).reduce(function (result, child) {\n      var itemData = child.props.data;\n\n      if (itemData && itemData.length) {\n        return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n      }\n\n      return result;\n    }, []);\n\n    if (itemsData && itemsData.length > 0) {\n      return itemsData;\n    }\n\n    if (item && item.props && item.props.data && item.props.data.length > 0) {\n      return item.props.data;\n    }\n\n    var data = props.data;\n\n    if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n      return data.slice(dataStartIndex, dataEndIndex + 1);\n    }\n\n    return [];\n  };\n\n  return CategoricalChartWrapper;\n};\n\nexport default generateCategoricalChart;","map":{"version":3,"sources":["/home/lucas/Public/repos/financix/node_modules/recharts/es6/chart/generateCategoricalChart.js"],"names":["_every","_find","_sortBy","_isFunction","_get","_range","_throttle","_isNil","_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","toString","Array","from","isArray","arr2","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","_defineProperties","props","descriptor","_createClass","Constructor","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_classCallCheck","instance","React","Component","cloneElement","isValidElement","createElement","classNames","Surface","Layer","Tooltip","Legend","Curve","Cross","Sector","Dot","Rectangle","findAllByType","findChildByType","getDisplayName","parseChildIndex","validateWidthHeight","isChildrenEqual","renderByOrder","getReactEventByType","CartesianAxis","Brush","getOffset","calculateChartCoordinate","getAnyElementOfObject","hasDuplicate","uniqueId","isNumber","findEntryInArray","calculateActiveTickIndex","getMainColorOfGraphicItem","getBarSizeList","getBarPosition","appendOffsetOfLegend","getLegendProps","combineEventHandlers","getTicksOfAxis","getCoordinatesOfGrid","getStackedDataOfItem","parseErrorBarsOfAxis","getBandSizeOfAxis","getStackGroupsByAxisId","getValueByDataKey","isCategorialAxis","getDomainOfItemsWithSameAxis","getDomainOfStackGroups","getDomainOfDataByKey","parseSpecifiedDomain","parseDomainOfCategoryAxis","detectReferenceElementsDomain","inRangeOfSector","polarToCartesian","shallowEqual","eventCenter","SYNC_EVENT","filterProps","adaptEventHandlers","ORIENT_MAP","xAxis","yAxis","originCoordinate","x","y","State","chartX","chartY","dataStartIndex","dataEndIndex","activeTooltipIndex","isTooltipActive","updateId","xAxisMap","yAxisMap","orderedTooltipTicks","tooltipAxis","tooltipTicks","graphicalItems","activeCoordinate","offset","angleAxisMap","radiusAxisMap","formatedGraphicalItems","activePayload","tooltipAxisBandSize","activeItem","activeLabel","xValue","yValue","generateCategoricalChart","_ref","chartName","GraphicalChild","_ref$eventType","eventType","axisComponents","legendContent","formatAxisMap","defaultProps","CategoricalChartWrapper","_Component","_props","_this","uniqueChartId","clipPathId","legendInstance","container","handleLegendBBoxUpdate","box","_this$state","state","setState","updateStateOfAxisMapsOffsetAndStackGroups","handleReceiveSyncEvent","cId","chartId","data","_this$props","syncId","layout","_this$state2","viewBox","left","top","validateChartX","Math","min","width","validateChartY","height","getTooltipContent","coordinate","handleBrushChange","_ref2","startIndex","endIndex","triggerSyncEvent","handleMouseEnter","e","onMouseEnter","mouse","getMouseInfo","nextState","triggeredAfterMouseMove","onMouseMove","handleItemMouseEnter","el","tooltipPayload","tooltipPosition","cx","cy","handleItemMouseLeave","handleMouseMove","persist","handleMouseLeave","onMouseLeave","handleOuterEvent","eventName","event","concat","handler","handleClick","onClick","handleMouseDown","onMouseDown","handleMouseUp","onMouseUp","handleTouchMove","changedTouches","handleTouchStart","handleTouchEnd","verticalCoordinatesGenerator","_ref3","getTicks","ticks","horizontalCoordinatesGenerator","_ref4","axesTicksGenerator","axis","tooltipTicksGenerator","axisMap","renderCursor","element","_this$state3","cursor","restProps","cursorComp","getCursorRectangle","_this$getCursorPoints","getCursorPoints","radius","startAngle","endAngle","innerRadius","outerRadius","points","cursorProps","stroke","pointerEvents","payload","className","renderPolarAxis","displayName","index","axisType","axisOption","renderXAxis","axisObj","xAxisId","renderAxis","renderYAxis","yAxisId","renderGrid","_this$state4","_this$props2","yAxisWithFiniteDomain","domain","Number","isFinite","chartWidth","chartHeight","renderPolarGrid","_this$state5","radiusAxis","angleAxis","polarAngles","map","entry","polarRadius","renderLegend","_this$props3","children","margin","legendWidth","right","legendHeight","bottom","item","otherProps","ref","legend","onBBoxUpdate","renderTooltip","tooltipItem","_this$state6","active","label","renderBrush","_this$props4","_this$state7","onChange","brushBottom","renderReferenceElement","_assertThisInitialize","_this$state8","_element$props","renderGraphicChild","filterFormatItem","graphicalItem","_this$state9","_item$props","isRange","baseLine","_item$item$props","activeDot","hide","hasActive","findWithPayload","dataKey","activePoint","basePoint","allowDuplicatedCategory","specifiedKey","renderActivePoints","childIndex","renderCustomized","defaultState","createDefaultState","_updateId","id","throttleDelay","componentDidMount","addListener","UNSAFE_componentWillReceiveProps","nextProps","_this2","_this$props5","stackOffset","hasGlobalData","newUpdateId","prevState","removeListener","componentWillUnmount","cancel","getAxisMap","_ref5","_ref5$axisType","AxisComp","stackGroups","axisIdKey","axes","getAxisMapByAxes","getAxisMapByItems","Axis","_ref6","isCategorial","reduce","result","child","_child$props","type","allowDataOverflow","scale","axisId","displayedData","getDisplayedData","len","duplicateDomain","categoricalDomain","duplicate","finalDomain","errorBarsDomain","hasStack","originalDomain","_ref7","orientation","getActiveCoordinate","activeIndex","rangeObj","find","tick","_angle","_radius","angle","containerOffset","inRange","_this$state10","xScale","yScale","invert","_this$state11","pos","calculateTooltipPos","_this$state12","_child$props2","name","unit","formatter","tooltipType","color","getFormatItems","currentState","_this3","barSize","barGap","barCategoryGap","globalMaxBarSize","maxBarSize","_CategoricalChartWrap","getAxisNameByLayout","numericAxisName","cateAxisName","hasBar","sizeList","formatedItems","_item$props2","childMaxBarSize","numericAxisId","cateAxisId","_objectSpread4","cateAxis","cateTicks","stackedData","bandSize","barPosition","componsedFn","getComposedData","_objectSpread5","onItemMouseLeave","onItemMouseEnter","_this$state13","halfSize","fill","_this$state14","x1","y1","x2","y2","innerPoint","outerPoint","_cx","_cy","startPoint","endPoint","isInRange","_this$state15","parseEventsOfWrapper","tooltipEvents","onTouchMove","onTouchStart","onTouchEnd","outerEvents","_ref8","_this4","reverseStackOrder","_CategoricalChartWrap2","calculateOffset","replace","cateAxisMap","ticksObj","on","setMaxListeners","_maxListeners","_ref9","_ref9$xAxisMap","_ref9$yAxisMap","brushItem","legendItem","offsetH","mirror","offsetV","legendBox","getBBox","emit","_i","axisOptions","_this$props6","ticksGenerator","_ref10","_item$item$props2","dotProps","r","strokeWidth","renderActiveDot","renderClipPath","_this$state$offset","render","_this5","_this$props7","style","compact","others","attrs","CartesianGrid","once","ReferenceArea","ReferenceLine","ReferenceDot","XAxis","YAxis","Bar","Line","Area","Radar","RadialBar","Scatter","Pie","Funnel","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Customized","events","position","node","option","dot","defaultShowTooltip","some","_ref11","itemsData","itemData","slice"],"mappings":"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","sourcesContent":["import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _sortBy from \"lodash/sortBy\";\nimport _isFunction from \"lodash/isFunction\";\nimport _get from \"lodash/get\";\nimport _range from \"lodash/range\";\nimport _throttle from \"lodash/throttle\";\nimport _isNil from \"lodash/isNil\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport Surface from '../container/Surface';\nimport Layer from '../container/Layer';\nimport Tooltip from '../component/Tooltip';\nimport Legend from '../component/Legend';\nimport Curve from '../shape/Curve';\nimport Cross from '../shape/Cross';\nimport Sector from '../shape/Sector';\nimport Dot from '../shape/Dot';\nimport Rectangle from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType } from '../util/ReactUtils';\nimport CartesianAxis from '../cartesian/CartesianAxis';\nimport Brush from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, getValueByDataKey, isCategorialAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { filterProps, adaptEventHandlers } from '../util/types';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\nvar State = function State() {\n  _classCallCheck(this, State);\n\n  this.chartX = void 0;\n  this.chartY = void 0;\n  this.dataStartIndex = void 0;\n  this.dataEndIndex = void 0;\n  this.activeTooltipIndex = void 0;\n  this.isTooltipActive = void 0;\n  this.updateId = void 0;\n  this.xAxisMap = void 0;\n  this.yAxisMap = void 0;\n  this.orderedTooltipTicks = void 0;\n  this.tooltipAxis = void 0;\n  this.tooltipTicks = void 0;\n  this.graphicalItems = void 0;\n  this.activeCoordinate = void 0;\n  this.offset = void 0;\n  this.angleAxisMap = void 0;\n  this.radiusAxisMap = void 0;\n  this.formatedGraphicalItems = void 0;\n  this.activePayload = void 0;\n  this.tooltipAxisBandSize = void 0;\n  this.activeItem = void 0;\n  this.activeLabel = void 0;\n  this.xValue = void 0;\n  this.yValue = void 0;\n};\n\nvar generateCategoricalChart = function generateCategoricalChart(_ref) {\n  var chartName = _ref.chartName,\n      GraphicalChild = _ref.GraphicalChild,\n      _ref$eventType = _ref.eventType,\n      eventType = _ref$eventType === void 0 ? 'axis' : _ref$eventType,\n      axisComponents = _ref.axisComponents,\n      legendContent = _ref.legendContent,\n      formatAxisMap = _ref.formatAxisMap,\n      defaultProps = _ref.defaultProps;\n\n  var CategoricalChartWrapper =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    // todo join specific chart propTypes\n\n    /**\n     * Returns default, reset state for the categorical chart.\n     * @param {Object} props Props object to use when creating the default state\n     * @return {Object} Whole new state\n     */\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoricalChartWrapper).call(this, _props));\n      _this.uniqueChartId = void 0;\n      _this.clipPathId = void 0;\n      _this.legendInstance = void 0;\n      _this.container = void 0;\n\n      _this.handleLegendBBoxUpdate = function (box) {\n        if (box && _this.legendInstance) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_this.updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }));\n        }\n      };\n\n      _this.handleReceiveSyncEvent = function (cId, chartId, data) {\n        var _this$props = _this.props,\n            syncId = _this$props.syncId,\n            layout = _this$props.layout;\n        var updateId = _this.state.updateId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          var dataStartIndex = data.dataStartIndex,\n              dataEndIndex = data.dataEndIndex;\n\n          if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n            _this.setState(_objectSpread({\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex,\n              updateId: updateId\n            })));\n          } else if (!_isNil(data.activeTooltipIndex)) {\n            var chartX = data.chartX,\n                chartY = data.chartY,\n                activeTooltipIndex = data.activeTooltipIndex;\n            var _this$state2 = _this.state,\n                offset = _this$state2.offset,\n                tooltipTicks = _this$state2.tooltipTicks;\n\n            if (!offset) {\n              return;\n            }\n\n            var viewBox = _objectSpread({}, offset, {\n              x: offset.left,\n              y: offset.top\n            }); // When a categotical chart is combined with another chart, the value of chartX\n            // and chartY may beyond the boundaries.\n\n\n            var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n            var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n            var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n\n            var activePayload = _this.getTooltipContent(activeTooltipIndex);\n\n            var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n              x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n              y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n            } : originCoordinate;\n\n            _this.setState(_objectSpread({}, data, {\n              activeLabel: activeLabel,\n              activeCoordinate: activeCoordinate,\n              activePayload: activePayload\n            }));\n          } else {\n            _this.setState(data);\n          }\n        }\n      };\n\n      _this.handleBrushChange = function (_ref2) {\n        var startIndex = _ref2.startIndex,\n            endIndex = _ref2.endIndex;\n\n        // Only trigger changes if the extents of the brush have actually changed\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      };\n\n      _this.handleMouseEnter = function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var nextState = _objectSpread({}, mouse, {\n            isTooltipActive: true\n          });\n\n          _this.setState(nextState);\n\n          _this.triggerSyncEvent(nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(nextState, e);\n          }\n        }\n      };\n\n      _this.triggeredAfterMouseMove = function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread({}, mouse, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      };\n\n      _this.handleItemMouseEnter = function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      };\n\n      _this.handleItemMouseLeave = function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      };\n\n      _this.handleMouseMove = function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      };\n\n      _this.handleMouseLeave = function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n      };\n\n      _this.handleOuterEvent = function (e) {\n        var eventName = getReactEventByType(e);\n\n        var event = _get(_this.props, \"\".concat(eventName));\n\n        if (eventName && _isFunction(event)) {\n          var mouse = _this.getMouseInfo(e);\n\n          var handler = event;\n          handler(mouse, e);\n        }\n      };\n\n      _this.handleClick = function (e) {\n        var onClick = _this.props.onClick;\n\n        if (_isFunction(onClick)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onClick(mouse, e);\n        }\n      };\n\n      _this.handleMouseDown = function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseDown(mouse, e);\n        }\n      };\n\n      _this.handleMouseUp = function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseUp(mouse, e);\n        }\n      };\n\n      _this.handleTouchMove = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchStart = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchEnd = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      };\n\n      _this.verticalCoordinatesGenerator = function (_ref3) {\n        var xAxis = _ref3.xAxis,\n            width = _ref3.width,\n            height = _ref3.height,\n            offset = _ref3.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, xAxis, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      };\n\n      _this.horizontalCoordinatesGenerator = function (_ref4) {\n        var yAxis = _ref4.yAxis,\n            width = _ref4.width,\n            height = _ref4.height,\n            offset = _ref4.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, yAxis, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      };\n\n      _this.axesTicksGenerator = function (axis) {\n        return getTicksOfAxis(axis, true);\n      };\n\n      _this.tooltipTicksGenerator = function (axisMap) {\n        var axis = getAnyElementOfObject(axisMap);\n        var tooltipTicks = getTicksOfAxis(axis, false, true);\n        return {\n          tooltipTicks: tooltipTicks,\n          orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n            return o.coordinate;\n          }),\n          tooltipAxis: axis,\n          tooltipAxisBandSize: getBandSizeOfAxis(axis)\n        };\n      };\n\n      _this.renderCursor = function (element) {\n        var _this$state3 = _this.state,\n            isTooltipActive = _this$state3.isTooltipActive,\n            activeCoordinate = _this$state3.activeCoordinate,\n            activePayload = _this$state3.activePayload,\n            offset = _this$state3.offset;\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate) {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset, {}, restProps, {}, filterProps(element.props.cursor), {\n          payload: activePayload,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return isValidElement(element.props.cursor) ? cloneElement(element.props.cursor, cursorProps) : createElement(cursorComp, cursorProps);\n      };\n\n      _this.renderPolarAxis = function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n\n        var axisOption = axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return cloneElement(element, _objectSpread({}, axisOption, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      };\n\n      _this.renderXAxis = function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderYAxis = function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderGrid = function (element) {\n        var _this$state4 = _this.state,\n            xAxisMap = _this$state4.xAxisMap,\n            yAxisMap = _this$state4.yAxisMap,\n            offset = _this$state4.offset;\n        var _this$props2 = _this.props,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, Number.isFinite);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      };\n\n      _this.renderPolarGrid = function (element) {\n        var _this$state5 = _this.state,\n            radiusAxisMap = _this$state5.radiusAxisMap,\n            angleAxisMap = _this$state5.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return cloneElement(element, {\n          polarAngles: getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid'\n        });\n      };\n\n      _this.renderLegend = function () {\n        var formatedGraphicalItems = _this.state.formatedGraphicalItems;\n        var _this$props3 = _this.props,\n            children = _this$props3.children,\n            width = _this$props3.width,\n            height = _this$props3.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var legendHeight = height - (margin.top || 0) - (margin.bottom || 0);\n        var props = getLegendProps({\n          children: children,\n          formatedGraphicalItems: formatedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, [\"item\"]);\n\n        return cloneElement(item, _objectSpread({}, otherProps, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this.legendInstance = legend;\n          },\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      };\n\n      _this.renderTooltip = function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state6 = _this.state,\n            isTooltipActive = _this$state6.isTooltipActive,\n            activeCoordinate = _this$state6.activeCoordinate,\n            activePayload = _this$state6.activePayload,\n            activeLabel = _this$state6.activeLabel,\n            offset = _this$state6.offset;\n        return cloneElement(tooltipItem, {\n          viewBox: _objectSpread({}, offset, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      };\n\n      _this.renderBrush = function (element) {\n        var _this$props4 = _this.props,\n            margin = _this$props4.margin,\n            data = _this$props4.data;\n        var _this$state7 = _this.state,\n            offset = _this$state7.offset,\n            dataStartIndex = _this$state7.dataStartIndex,\n            dataEndIndex = _this$state7.dataEndIndex,\n            updateId = _this$state7.updateId; // TODO: update brush when children update\n\n        return cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      };\n\n      _this.renderReferenceElement = function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state8 = _this.state,\n            xAxisMap = _this$state8.xAxisMap,\n            yAxisMap = _this$state8.yAxisMap,\n            offset = _this$state8.offset;\n        var _element$props = element.props,\n            xAxisId = _element$props.xAxisId,\n            yAxisId = _element$props.yAxisId;\n        return cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      };\n\n      _this.renderGraphicChild = function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var graphicalItem = cloneElement(element, item.props);\n        var _this$state9 = _this.state,\n            isTooltipActive = _this$state9.isTooltipActive,\n            tooltipAxis = _this$state9.tooltipAxis,\n            activeTooltipIndex = _this$state9.activeTooltipIndex,\n            activeLabel = _this$state9.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var _item$props = item.props,\n            points = _item$props.points,\n            isRange = _item$props.isRange,\n            baseLine = _item$props.baseLine;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            hide = _item$item$props.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          // @ts-ignore\n          return tooltipAxis.dataKey(entry.payload);\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // number transform to string\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      };\n\n      _this.renderCustomized = function (element) {\n        return cloneElement(element, _objectSpread({}, _this.props, {}, _this.state));\n      };\n\n      var defaultState = CategoricalChartWrapper.createDefaultState(_props);\n      var _updateId = 0;\n      _this.state = _objectSpread({}, defaultState, {\n        updateId: 0\n      }, _this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: _props\n      }, defaultState, {\n        updateId: _updateId\n      })));\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      return _this;\n    }\n    /* eslint-disable  react/no-did-mount-set-state */\n\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n      } // eslint-disable-next-line camelcase\n\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        var _this2 = this;\n\n        var _this$props5 = this.props,\n            data = _this$props5.data,\n            children = _this$props5.children,\n            width = _this$props5.width,\n            height = _this$props5.height,\n            layout = _this$props5.layout,\n            stackOffset = _this$props5.stackOffset,\n            margin = _this$props5.margin;\n        var updateId = this.state.updateId;\n\n        if (nextProps.data !== data || nextProps.width !== width || nextProps.height !== height || nextProps.layout !== layout || nextProps.stackOffset !== stackOffset || !shallowEqual(nextProps.margin, margin)) {\n          var defaultState = CategoricalChartWrapper.createDefaultState(nextProps);\n          this.setState(_objectSpread({}, defaultState, {\n            updateId: updateId + 1\n          }, this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n            props: nextProps\n          }, defaultState, {\n            updateId: updateId + 1\n          }))));\n        } else if (!isChildrenEqual(nextProps.children, children)) {\n          // update configuration in chilren\n          var hasGlobalData = !_isNil(nextProps.data);\n          var newUpdateId = hasGlobalData ? updateId : updateId + 1;\n          this.setState(function (prevState) {\n            return _objectSpread({\n              updateId: newUpdateId\n            }, _this2.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n              props: nextProps\n            }, prevState, {\n              updateId: newUpdateId\n            })));\n          });\n        } // add syncId\n\n\n        if (_isNil(this.props.syncId) && !_isNil(nextProps.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(this.props.syncId) && _isNil(nextProps.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n      /**\n      * Get the configuration of all x-axis or y-axis\n      * @param  {Object} props          Latest props\n      * @param  {String} axisType       The type of axis\n      * @param  {Array}  graphicalItems The instances of item\n      * @param  {Object} stackGroups    The items grouped by axisId and stackId\n      * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n      * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n      * @return {Object}          Configuration\n      */\n\n    }, {\n      key: \"getAxisMap\",\n      value: function getAxisMap(props, _ref5) {\n        var _ref5$axisType = _ref5.axisType,\n            axisType = _ref5$axisType === void 0 ? 'xAxis' : _ref5$axisType,\n            AxisComp = _ref5.AxisComp,\n            graphicalItems = _ref5.graphicalItems,\n            stackGroups = _ref5.stackGroups,\n            dataStartIndex = _ref5.dataStartIndex,\n            dataEndIndex = _ref5.dataEndIndex;\n        var children = props.children;\n        var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n        var axes = findAllByType(children, AxisComp);\n        var axisMap = {};\n\n        if (axes && axes.length) {\n          axisMap = this.getAxisMapByAxes(props, {\n            axes: axes,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        } else if (graphicalItems && graphicalItems.length) {\n          axisMap = this.getAxisMapByItems(props, {\n            Axis: AxisComp,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        }\n\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of axis instance\n       * @param  {Object} props         Latest props\n       * @param {Array}  axes           The instance of axes\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}      Configuration\n       */\n\n    }, {\n      key: \"getAxisMapByAxes\",\n      value: function getAxisMapByAxes(props, _ref6) {\n        var axes = _ref6.axes,\n            graphicalItems = _ref6.graphicalItems,\n            axisType = _ref6.axisType,\n            axisIdKey = _ref6.axisIdKey,\n            stackGroups = _ref6.stackGroups,\n            dataStartIndex = _ref6.dataStartIndex,\n            dataEndIndex = _ref6.dataEndIndex;\n        var layout = props.layout,\n            children = props.children,\n            stackOffset = props.stackOffset;\n        var isCategorial = isCategorialAxis(layout, axisType); // Eliminate duplicated axes\n\n        var axisMap = axes.reduce(function (result, child) {\n          var _child$props = child.props,\n              type = _child$props.type,\n              dataKey = _child$props.dataKey,\n              allowDataOverflow = _child$props.allowDataOverflow,\n              allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n              scale = _child$props.scale,\n              ticks = _child$props.ticks;\n          var axisId = child.props[axisIdKey];\n          var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n            graphicalItems: graphicalItems.filter(function (item) {\n              return item.props[axisIdKey] === axisId;\n            }),\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n          var len = displayedData.length;\n\n          if (!result[axisId]) {\n            var domain, duplicateDomain, categoricalDomain;\n\n            if (dataKey) {\n              domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n              if (type === 'category' && isCategorial) {\n                var duplicate = hasDuplicate(domain);\n\n                if (allowDuplicatedCategory && duplicate) {\n                  duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n                  domain = _range(0, len);\n                } else if (!allowDuplicatedCategory) {\n                  // remove duplicated category\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                }\n              } else if (type === 'category') {\n                if (!allowDuplicatedCategory) {\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                } else {\n                  // eliminate undefined or null or empty string\n                  domain = domain.filter(function (entry) {\n                    return entry !== '' && !_isNil(entry);\n                  });\n                }\n              } else if (type === 'number') {\n                var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n                  return item.props[axisIdKey] === axisId && !item.props.hide;\n                }), dataKey, axisType);\n\n                if (errorBarsDomain) {\n                  domain = errorBarsDomain;\n                }\n              }\n\n              if (isCategorial && (type === 'number' || scale !== 'auto')) {\n                categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n              }\n            } else if (isCategorial) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n              // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n              domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n            } else {\n              domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), type, true);\n            }\n\n            if (type === 'number') {\n              // To detect wether there is any reference lines whose props alwaysShow is true\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n              if (child.props.domain) {\n                domain = parseSpecifiedDomain(child.props.domain, domain, allowDataOverflow);\n              }\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({}, child.props, {\n              axisType: axisType,\n              domain: domain,\n              categoricalDomain: categoricalDomain,\n              duplicateDomain: duplicateDomain,\n              originalDomain: child.props.domain,\n              isCategorial: isCategorial,\n              layout: layout\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of item,\n       * this kind of axis does not display in chart\n       * @param  {Object} props         Latest props\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {ReactElement} Axis    Axis Component\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}               Configuration\n       */\n\n    }, {\n      key: \"getAxisMapByItems\",\n      value: function getAxisMapByItems(props, _ref7) {\n        var graphicalItems = _ref7.graphicalItems,\n            Axis = _ref7.Axis,\n            axisType = _ref7.axisType,\n            axisIdKey = _ref7.axisIdKey,\n            stackGroups = _ref7.stackGroups,\n            dataStartIndex = _ref7.dataStartIndex,\n            dataEndIndex = _ref7.dataEndIndex;\n        var layout = props.layout,\n            children = props.children;\n        var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n          graphicalItems: graphicalItems,\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex\n        });\n        var len = displayedData.length;\n        var isCategorial = isCategorialAxis(layout, axisType);\n        var index = -1; // The default type of x-axis is category axis,\n        // The default contents of x-axis is the serial numbers of data\n        // The default type of y-axis is number axis\n        // The default contents of y-axis is the domain of data\n\n        var axisMap = graphicalItems.reduce(function (result, child) {\n          var axisId = child.props[axisIdKey];\n\n          if (!result[axisId]) {\n            index++;\n            var domain;\n\n            if (isCategorial) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n              domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            } else {\n              domain = parseSpecifiedDomain(Axis.defaultProps.domain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), 'number'), Axis.defaultProps.allowDataOverflow);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({\n              axisType: axisType\n            }, Axis.defaultProps, {\n              hide: true,\n              orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n              domain: domain,\n              originalDomain: Axis.defaultProps.domain,\n              isCategorial: isCategorial,\n              layout: layout // specify scale when no Axis\n              // scale: isCategorial ? 'band' : 'linear',\n\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      }\n    }, {\n      key: \"getActiveCoordinate\",\n      value: function getActiveCoordinate(tooltipTicks, activeIndex, rangeObj) {\n        var layout = this.props.layout;\n        var entry = tooltipTicks.find(function (tick) {\n          return tick && tick.index === activeIndex;\n        });\n\n        if (entry) {\n          if (layout === 'horizontal') {\n            return {\n              x: entry.coordinate,\n              y: rangeObj.y\n            };\n          }\n\n          if (layout === 'vertical') {\n            return {\n              x: rangeObj.x,\n              y: entry.coordinate\n            };\n          }\n\n          if (layout === 'centric') {\n            var _angle = entry.coordinate;\n            var _radius = rangeObj.radius;\n            return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle), {\n              angle: _angle,\n              radius: _radius\n            });\n          }\n\n          var radius = entry.coordinate;\n          var angle = rangeObj.angle;\n          return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle), {\n            angle: angle,\n            radius: radius\n          });\n        }\n\n        return originCoordinate;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state10 = this.state,\n            xAxisMap = _this$state10.xAxisMap,\n            yAxisMap = _this$state10.yAxisMap;\n\n        if (eventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread({}, e, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var _this$state11 = this.state,\n            ticks = _this$state11.orderedTooltipTicks,\n            axis = _this$state11.tooltipAxis,\n            tooltipTicks = _this$state11.tooltipTicks;\n        var pos = this.calculateTooltipPos(rangeObj);\n        var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n        if (activeIndex >= 0 && tooltipTicks) {\n          var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n          var activePayload = this.getTooltipContent(activeIndex, activeLabel);\n          var activeCoordinate = this.getActiveCoordinate(ticks, activeIndex, rangeObj);\n          return _objectSpread({}, e, {\n            activeTooltipIndex: activeIndex,\n            activeLabel: activeLabel,\n            activePayload: activePayload,\n            activeCoordinate: activeCoordinate\n          });\n        }\n\n        return null;\n      }\n      /**\n       * Get the content to be displayed in the tooltip\n       * @param  {Number} activeIndex    Active index of data\n       * @param  {String} activeLabel    Active label of data\n       * @return {Array}                 The content of tooltip\n       */\n\n    }, {\n      key: \"getTooltipContent\",\n      value: function getTooltipContent(activeIndex, activeLabel) {\n        var _this$state12 = this.state,\n            graphicalItems = _this$state12.graphicalItems,\n            tooltipAxis = _this$state12.tooltipAxis;\n        var displayedData = CategoricalChartWrapper.getDisplayedData(this.props, this.state);\n\n        if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n          return null;\n        } // get data by activeIndex when the axis don't allow duplicated category\n\n\n        return graphicalItems.reduce(function (result, child) {\n          var hide = child.props.hide;\n\n          if (hide) {\n            return result;\n          }\n\n          var _child$props2 = child.props,\n              dataKey = _child$props2.dataKey,\n              name = _child$props2.name,\n              unit = _child$props2.unit,\n              formatter = _child$props2.formatter,\n              data = _child$props2.data,\n              tooltipType = _child$props2.tooltipType;\n          var payload;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // graphic child has data props\n            payload = findEntryInArray(data || displayedData, tooltipAxis.dataKey, activeLabel);\n          } else {\n            payload = data && data[activeIndex] || displayedData[activeIndex];\n          }\n\n          if (!payload) {\n            return result;\n          }\n\n          return [].concat(_toConsumableArray(result), [_objectSpread({}, filterProps(child), {\n            dataKey: dataKey,\n            unit: unit,\n            formatter: formatter,\n            name: name || dataKey,\n            color: getMainColorOfGraphicItem(child),\n            value: getValueByDataKey(payload, dataKey),\n            type: tooltipType,\n            payload: payload\n          })]);\n        }, []);\n      }\n    }, {\n      key: \"getFormatItems\",\n      value: function getFormatItems(props, currentState) {\n        var _this3 = this;\n\n        var graphicalItems = currentState.graphicalItems,\n            stackGroups = currentState.stackGroups,\n            offset = currentState.offset,\n            updateId = currentState.updateId,\n            dataStartIndex = currentState.dataStartIndex,\n            dataEndIndex = currentState.dataEndIndex;\n        var barSize = props.barSize,\n            layout = props.layout,\n            barGap = props.barGap,\n            barCategoryGap = props.barCategoryGap,\n            globalMaxBarSize = props.maxBarSize;\n\n        var _CategoricalChartWrap = CategoricalChartWrapper.getAxisNameByLayout(layout),\n            numericAxisName = _CategoricalChartWrap.numericAxisName,\n            cateAxisName = _CategoricalChartWrap.cateAxisName;\n\n        var hasBar = CategoricalChartWrapper.hasBar(graphicalItems);\n        var sizeList = hasBar && getBarSizeList({\n          barSize: barSize,\n          stackGroups: stackGroups\n        });\n        var formatedItems = [];\n        graphicalItems.forEach(function (item, index) {\n          var displayedData = CategoricalChartWrapper.getDisplayedData(props, {\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, item);\n          var _item$props2 = item.props,\n              dataKey = _item$props2.dataKey,\n              childMaxBarSize = _item$props2.maxBarSize;\n          var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n          var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n          var axisObj = axisComponents.reduce(function (result, entry) {\n            var _objectSpread4;\n\n            var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n            var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n            var axis = axisMap && axisMap[id];\n            return _objectSpread({}, result, (_objectSpread4 = {}, _defineProperty(_objectSpread4, entry.axisType, axis), _defineProperty(_objectSpread4, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread4));\n          }, {});\n          var cateAxis = axisObj[cateAxisName];\n          var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n          var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n          var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n          var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n          var barPosition = hasBar && getBarPosition({\n            barGap: barGap,\n            barCategoryGap: barCategoryGap,\n            bandSize: bandSize,\n            sizeList: sizeList[cateAxisId],\n            maxBarSize: maxBarSize\n          });\n          var componsedFn = item && item.type && item.type.getComposedData;\n\n          if (componsedFn) {\n            var _objectSpread5;\n\n            formatedItems.push({\n              props: _objectSpread({}, componsedFn(_objectSpread({}, axisObj, {\n                displayedData: displayedData,\n                props: props,\n                dataKey: dataKey,\n                item: item,\n                bandSize: bandSize,\n                barPosition: barPosition,\n                offset: offset,\n                stackedData: stackedData,\n                layout: layout,\n                dataStartIndex: dataStartIndex,\n                dataEndIndex: dataEndIndex,\n                onItemMouseLeave: combineEventHandlers(_this3.handleItemMouseLeave, null, item.props.onMouseLeave),\n                onItemMouseEnter: combineEventHandlers(_this3.handleItemMouseEnter, null, item.props.onMouseEnter)\n              })), (_objectSpread5 = {\n                key: item.key || \"item-\".concat(index)\n              }, _defineProperty(_objectSpread5, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread5, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread5, \"animationId\", updateId), _objectSpread5)),\n              childIndex: parseChildIndex(item, props.children),\n              item: item\n            });\n          }\n        });\n        return formatedItems;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state13 = this.state,\n            activeCoordinate = _this$state13.activeCoordinate,\n            offset = _this$state13.offset,\n            tooltipAxisBandSize = _this$state13.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state14 = this.state,\n            activeCoordinate = _this$state14.activeCoordinate,\n            offset = _this$state14.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"calculateTooltipPos\",\n      value: function calculateTooltipPos(rangeObj) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal') {\n          return rangeObj.x;\n        }\n\n        if (layout === 'vertical') {\n          return rangeObj.y;\n        }\n\n        if (layout === 'centric') {\n          return rangeObj.angle;\n        }\n\n        return rangeObj.radius;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state15 = this.state,\n            angleAxisMap = _this$state15.angleAxisMap,\n            radiusAxisMap = _this$state15.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var tooltipEvents = tooltipItem && eventType === 'axis' ? {\n          onMouseEnter: this.handleMouseEnter,\n          onMouseMove: this.handleMouseMove,\n          onMouseLeave: this.handleMouseLeave,\n          onTouchMove: this.handleTouchMove,\n          onTouchStart: this.handleTouchStart,\n          onTouchEnd: this.handleTouchEnd\n        } : {};\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread({}, outerEvents, {}, tooltipEvents);\n      }\n      /**\n       * The AxisMaps are expensive to render on large data sets\n       * so provide the ability to store them in state and only update them when necessary\n       * they are dependent upon the start and end index of\n       * the brush so it's important that this method is called _after_\n       * the state is updated with any new start/end indices\n       *\n       * @param {Object} props          The props object to be used for updating the axismaps\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @param {Number} updateId       The update id\n       * @return {Object} state New state to set\n       */\n\n    }, {\n      key: \"updateStateOfAxisMapsOffsetAndStackGroups\",\n      value: function updateStateOfAxisMapsOffsetAndStackGroups(_ref8) {\n        var _this4 = this;\n\n        var props = _ref8.props,\n            dataStartIndex = _ref8.dataStartIndex,\n            dataEndIndex = _ref8.dataEndIndex,\n            updateId = _ref8.updateId;\n\n        if (!validateWidthHeight({\n          props: props\n        })) {\n          return null;\n        }\n\n        var children = props.children,\n            layout = props.layout,\n            stackOffset = props.stackOffset,\n            data = props.data,\n            reverseStackOrder = props.reverseStackOrder;\n\n        var _CategoricalChartWrap2 = CategoricalChartWrapper.getAxisNameByLayout(layout),\n            numericAxisName = _CategoricalChartWrap2.numericAxisName,\n            cateAxisName = _CategoricalChartWrap2.cateAxisName;\n\n        var graphicalItems = findAllByType(children, GraphicalChild);\n        var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n        var axisObj = axisComponents.reduce(function (result, entry) {\n          var name = \"\".concat(entry.axisType, \"Map\");\n          return _objectSpread({}, result, _defineProperty({}, name, _this4.getAxisMap(props, _objectSpread({}, entry, {\n            graphicalItems: graphicalItems,\n            stackGroups: entry.axisType === numericAxisName && stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))));\n        }, {});\n        var offset = this.calculateOffset(_objectSpread({}, axisObj, {\n          props: props,\n          graphicalItems: graphicalItems\n        }));\n        Object.keys(axisObj).forEach(function (key) {\n          axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n        });\n        var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n        var ticksObj = this.tooltipTicksGenerator(cateAxisMap);\n        var formatedGraphicalItems = this.getFormatItems(props, _objectSpread({}, axisObj, {\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex,\n          updateId: updateId,\n          graphicalItems: graphicalItems,\n          stackGroups: stackGroups,\n          offset: offset\n        }));\n        return _objectSpread({\n          formatedGraphicalItems: formatedGraphicalItems,\n          graphicalItems: graphicalItems,\n          offset: offset,\n          stackGroups: stackGroups\n        }, ticksObj, {}, axisObj);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n      /**\n       * Calculate the offset of main part in the svg element\n       * @param  {Object} props          Latest props\n       * @param  {Array}  graphicalItems The instances of item\n       * @param  {Object} xAxisMap       The configuration of x-axis\n       * @param  {Object} yAxisMap       The configuration of y-axis\n       * @return {Object} The offset of main part in the svg element\n       */\n\n    }, {\n      key: \"calculateOffset\",\n      value: function calculateOffset(_ref9) {\n        var props = _ref9.props,\n            graphicalItems = _ref9.graphicalItems,\n            _ref9$xAxisMap = _ref9.xAxisMap,\n            xAxisMap = _ref9$xAxisMap === void 0 ? {} : _ref9$xAxisMap,\n            _ref9$yAxisMap = _ref9.yAxisMap,\n            yAxisMap = _ref9$yAxisMap === void 0 ? {} : _ref9$yAxisMap;\n        var width = props.width,\n            height = props.height,\n            children = props.children;\n        var margin = props.margin || {};\n        var brushItem = findChildByType(children, Brush.displayName);\n        var legendItem = findChildByType(children, Legend.displayName);\n        var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n          var entry = yAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, result[orientation] + entry.width));\n          }\n\n          return result;\n        }, {\n          left: margin.left || 0,\n          right: margin.right || 0\n        });\n        var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n          var entry = xAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n          }\n\n          return result;\n        }, {\n          top: margin.top || 0,\n          bottom: margin.bottom || 0\n        });\n\n        var offset = _objectSpread({}, offsetV, {}, offsetH);\n\n        var brushBottom = offset.bottom;\n\n        if (brushItem) {\n          offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n        }\n\n        if (legendItem && this.legendInstance) {\n          var legendBox = this.legendInstance.getBBox();\n          offset = appendOffsetOfLegend(offset, graphicalItems, props, legendBox);\n        }\n\n        return _objectSpread({\n          brushBottom: brushBottom\n        }, offset, {\n          width: width - offset.left - offset.right,\n          height: height - offset.top - offset.bottom\n        });\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formatedGraphicalItems = this.state.formatedGraphicalItems;\n\n        for (var _i = 0, len = formatedGraphicalItems.length; _i < len; _i++) {\n          var entry = formatedGraphicalItems[_i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      value: function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props6 = this.props,\n            width = _this$props6.width,\n            height = _this$props6.height; // TODO  CartesianAxisProps need mix BaseAxisProps\n\n        return (// @ts-ignore\n          React.createElement(CartesianAxis, _extends({}, axisOptions, {\n            className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n            key: element.key || \"\".concat(displayName, \"-\").concat(index),\n            viewBox: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            ticksGenerator: this.axesTicksGenerator\n          }))\n        );\n      }\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n    }, {\n      key: \"renderActivePoints\",\n      value: function renderActivePoints(_ref10) {\n        var item = _ref10.item,\n            activePoint = _ref10.activePoint,\n            basePoint = _ref10.basePoint,\n            childIndex = _ref10.childIndex,\n            isRange = _ref10.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            dataKey = _item$item$props2.dataKey;\n\n        var dotProps = _objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot), {}, adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread({}, dotProps, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return React.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this5 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props7 = this.props,\n            children = _this$props7.children,\n            className = _this$props7.className,\n            width = _this$props7.width,\n            height = _this$props7.height,\n            style = _this$props7.style,\n            compact = _this$props7.compact,\n            others = _objectWithoutProperties(_this$props7, [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\"]);\n\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this5.container = node;\n          }\n        }), React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }], [{\n      key: \"getAxisNameByLayout\",\n      value: function getAxisNameByLayout(layout) {\n        if (layout === 'horizontal') {\n          return {\n            numericAxisName: 'yAxis',\n            cateAxisName: 'xAxis'\n          };\n        }\n\n        if (layout === 'vertical') {\n          return {\n            numericAxisName: 'xAxis',\n            cateAxisName: 'yAxis'\n          };\n        }\n\n        if (layout === 'centric') {\n          return {\n            numericAxisName: 'radiusAxis',\n            cateAxisName: 'angleAxis'\n          };\n        }\n\n        return {\n          numericAxisName: 'angleAxis',\n          cateAxisName: 'radiusAxis'\n        };\n      }\n    }, {\n      key: \"renderActiveDot\",\n      value: function renderActiveDot(option, props) {\n        var dot;\n\n        if (isValidElement(option)) {\n          dot = cloneElement(option, props);\n        } else if (_isFunction(option)) {\n          dot = option(props);\n        } else {\n          dot = React.createElement(Dot, props);\n        }\n\n        return React.createElement(Layer, {\n          className: \"recharts-active-dot\",\n          key: props.key\n        }, dot);\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component);\n\n  CategoricalChartWrapper.displayName = chartName;\n  CategoricalChartWrapper.defaultProps = _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false\n  }, defaultProps);\n\n  CategoricalChartWrapper.createDefaultState = function (props) {\n    var children = props.children,\n        defaultShowTooltip = props.defaultShowTooltip;\n    var brushItem = findChildByType(children, Brush.displayName);\n    var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n    var endIndex = brushItem && brushItem.props && brushItem.props.endIndex || props.data && props.data.length - 1 || 0;\n    return {\n      chartX: 0,\n      chartY: 0,\n      dataStartIndex: startIndex,\n      dataEndIndex: endIndex,\n      activeTooltipIndex: -1,\n      isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n    };\n  };\n\n  CategoricalChartWrapper.hasBar = function (graphicalItems) {\n    if (!graphicalItems || !graphicalItems.length) {\n      return false;\n    }\n\n    return graphicalItems.some(function (item) {\n      var name = getDisplayName(item && item.type);\n      return name && name.indexOf('Bar') >= 0;\n    });\n  };\n\n  CategoricalChartWrapper.getDisplayedData = function (props, _ref11, item) {\n    var graphicalItems = _ref11.graphicalItems,\n        dataStartIndex = _ref11.dataStartIndex,\n        dataEndIndex = _ref11.dataEndIndex;\n    var itemsData = (graphicalItems || []).reduce(function (result, child) {\n      var itemData = child.props.data;\n\n      if (itemData && itemData.length) {\n        return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n      }\n\n      return result;\n    }, []);\n\n    if (itemsData && itemsData.length > 0) {\n      return itemsData;\n    }\n\n    if (item && item.props && item.props.data && item.props.data.length > 0) {\n      return item.props.data;\n    }\n\n    var data = props.data;\n\n    if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n      return data.slice(dataStartIndex, dataEndIndex + 1);\n    }\n\n    return [];\n  };\n\n  return CategoricalChartWrapper;\n};\n\nexport default generateCategoricalChart;"]},"metadata":{},"sourceType":"module"}