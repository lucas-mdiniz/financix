{"ast":null,"code":"import _objectSpread from \"/home/lucas/Public/repos/financix/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/lucas/Public/repos/financix/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/lucas/Public/repos/financix/src/components/AddTransaction/index.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport uuidv4 from 'uuid';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport createNumberMask from 'text-mask-addons/dist/createNumberMask';\nimport { FaPlus, FaMinus } from 'react-icons/fa';\nimport api from '../../services/api';\nimport { MyCheckbox, MyDateField, MyTextInput, MyTransactionTypeButton, MyTextArea, MyMaskedInput } from '../FormComponents';\nimport { InputItem, InputGroup, InputItemCenter } from '../FormComponents/styles';\nimport { StyledFaMinus, StyledFaPlus, StyledCenteredButton } from './styles';\nimport { TransactionsContext } from '../../contexts/TransactionContext';\nimport useCategories from '../../hooks/useCategories';\n\nconst AddTransaction = ({\n  modalClose\n}) => {\n  const _useContext = useContext(TransactionsContext),\n        _useContext2 = _slicedToArray(_useContext, 2),\n        transactions = _useContext2[0],\n        setTransactions = _useContext2[1];\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        categories = _useState2[0],\n        setCategories = _useState2[1];\n\n  useEffect(() => {\n    async function getCategories() {\n      try {\n        const response = await api.get('/categories');\n        setCategories(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    getCategories();\n  }, []);\n  console.log(categories);\n  const numberMask = createNumberMask({\n    allowDecimal: true,\n    prefix: '',\n    thousandsSeparatorSymbol: '.',\n    decimalSymbol: ','\n  });\n  return React.createElement(Formik, {\n    initialValues: {\n      amount: '',\n      title: '',\n      description: '',\n      date: new Date(),\n      paid: false,\n      type: 'expense'\n    },\n    validationSchema: Yup.object({\n      title: Yup.string().max(15, 'Must be 60 characters or less').required('Required'),\n      amount: Yup.string().required('Required'),\n      date: Yup.date().required('Required'),\n      description: Yup.string().max(15, 'Must be 500 characters or less').required('Required'),\n      paid: Yup.boolean().required('Required'),\n      type: Yup.string().oneOf(['income', 'expense']).required('Required')\n    }),\n    onSubmit: (values, {\n      resetForm\n    }) => {\n      const newTransaction = _objectSpread({}, values, {\n        id: uuidv4()\n      });\n\n      api.post('/transactions', newTransaction);\n      setTransactions([...transactions, newTransaction]);\n      modalClose();\n      resetForm();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(InputItemCenter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(MyTransactionTypeButton, {\n    name: \"type\",\n    value: \"expense\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(StyledFaMinus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(FaMinus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), \"Expense\"), React.createElement(MyTransactionTypeButton, {\n    name: \"type\",\n    value: \"income\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(StyledFaPlus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(FaPlus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), \"Income\")), React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(MyTextInput, {\n    label: \"Title\",\n    name: \"title\",\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })), React.createElement(InputGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(MyMaskedInput, {\n    mask: numberMask,\n    label: \"Amount\",\n    name: \"amount\",\n    placeholder: \"0.00\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(MyDateField, {\n    label: \"Date\",\n    name: \"date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }))), React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(MyTextArea, {\n    label: \"Description\",\n    name: \"description\",\n    type: \"textarea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })), React.createElement(MyCheckbox, {\n    name: \"paid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Paid\"), React.createElement(StyledCenteredButton, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nexport default AddTransaction;","map":{"version":3,"sources":["/home/lucas/Public/repos/financix/src/components/AddTransaction/index.jsx"],"names":["React","useContext","useEffect","useState","uuidv4","Formik","Form","Yup","createNumberMask","FaPlus","FaMinus","api","MyCheckbox","MyDateField","MyTextInput","MyTransactionTypeButton","MyTextArea","MyMaskedInput","InputItem","InputGroup","InputItemCenter","StyledFaMinus","StyledFaPlus","StyledCenteredButton","TransactionsContext","useCategories","AddTransaction","modalClose","transactions","setTransactions","categories","setCategories","getCategories","response","get","data","error","console","log","numberMask","allowDecimal","prefix","thousandsSeparatorSymbol","decimalSymbol","amount","title","description","date","Date","paid","type","object","string","max","required","boolean","oneOf","values","resetForm","newTransaction","id","post"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport uuidv4 from 'uuid';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport createNumberMask from 'text-mask-addons/dist/createNumberMask';\nimport { FaPlus, FaMinus } from 'react-icons/fa';\nimport api from '../../services/api';\nimport {\n  MyCheckbox,\n  MyDateField,\n  MyTextInput,\n  MyTransactionTypeButton,\n  MyTextArea,\n  MyMaskedInput,\n} from '../FormComponents';\nimport {\n  InputItem,\n  InputGroup,\n  InputItemCenter,\n} from '../FormComponents/styles';\nimport { StyledFaMinus, StyledFaPlus, StyledCenteredButton } from './styles';\nimport { TransactionsContext } from '../../contexts/TransactionContext';\nimport useCategories from '../../hooks/useCategories';\n\nconst AddTransaction = ({ modalClose }) => {\n  const [transactions, setTransactions] = useContext(TransactionsContext);\n\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    async function getCategories() {\n      try {\n        const response = await api.get('/categories');\n        setCategories(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    getCategories();\n  }, []);\n\n  console.log(categories);\n\n  const numberMask = createNumberMask({\n    allowDecimal: true,\n    prefix: '',\n    thousandsSeparatorSymbol: '.',\n    decimalSymbol: ',',\n  });\n\n  return (\n    <Formik\n      initialValues={{\n        amount: '',\n        title: '',\n        description: '',\n        date: new Date(),\n        paid: false,\n        type: 'expense',\n      }}\n      validationSchema={Yup.object({\n        title: Yup.string()\n          .max(15, 'Must be 60 characters or less')\n          .required('Required'),\n        amount: Yup.string().required('Required'),\n        date: Yup.date().required('Required'),\n        description: Yup.string()\n          .max(15, 'Must be 500 characters or less')\n          .required('Required'),\n        paid: Yup.boolean().required('Required'),\n        type: Yup.string()\n          .oneOf(['income', 'expense'])\n          .required('Required'),\n      })}\n      onSubmit={(values, { resetForm }) => {\n        const newTransaction = { ...values, id: uuidv4() };\n\n        api.post('/transactions', newTransaction);\n        setTransactions([...transactions, newTransaction]);\n        modalClose();\n        resetForm();\n      }}\n    >\n      <Form>\n        <InputItemCenter>\n          <MyTransactionTypeButton name=\"type\" value=\"expense\">\n            <StyledFaMinus>\n              <FaMinus />\n            </StyledFaMinus>\n            Expense\n          </MyTransactionTypeButton>\n          <MyTransactionTypeButton name=\"type\" value=\"income\">\n            <StyledFaPlus>\n              <FaPlus />\n            </StyledFaPlus>\n            Income\n          </MyTransactionTypeButton>\n        </InputItemCenter>\n        <InputItem>\n          <MyTextInput label=\"Title\" name=\"title\" type=\"text\" />\n        </InputItem>\n        <InputGroup>\n          <InputItem>\n            <MyMaskedInput\n              mask={numberMask}\n              label=\"Amount\"\n              name=\"amount\"\n              placeholder=\"0.00\"\n            />\n          </InputItem>\n          <InputItem>\n            <MyDateField label=\"Date\" name=\"date\" />\n          </InputItem>\n        </InputGroup>\n\n        <InputItem>\n          <MyTextArea label=\"Description\" name=\"description\" type=\"textarea\" />\n        </InputItem>\n        <MyCheckbox name=\"paid\">Paid</MyCheckbox>\n        <StyledCenteredButton type=\"submit\">Submit</StyledCenteredButton>\n      </Form>\n    </Formik>\n  );\n};\n\nexport default AddTransaction;\n"]},"metadata":{},"sourceType":"module"}