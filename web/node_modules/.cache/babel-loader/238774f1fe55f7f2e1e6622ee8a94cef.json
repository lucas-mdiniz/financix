{"ast":null,"code":"import _objectSpread from \"/home/lucas/Public/repos/financix/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/lucas/Public/repos/financix/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/lucas/Public/repos/financix/src/components/AddTransaction/index.jsx\";\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport uuidv4 from 'uuid';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport createNumberMask from 'text-mask-addons/dist/createNumberMask';\nimport { FaPlus, FaMinus } from 'react-icons/fa';\nimport api from '../../services/api';\nimport MyMaskedInput from '../FormComponents/MyMaskedInput';\nimport MySelect from '../FormComponents/MySelect';\nimport MyTextInput from '../FormComponents/MyTextInput';\nimport MyTextArea from '../FormComponents/MyTextArea';\nimport MyDateField from '../FormComponents/MyDateField';\nimport MyCheckbox from '../FormComponents/MyCheckbox';\nimport MyTransactionTypeButton from '../FormComponents/MyTransactionTypeButton';\nimport { InputItem, InputGroup, InputItemCenter } from '../FormComponents/styles';\nimport { StyledFaMinus, StyledFaPlus, StyledCenteredButton } from './styles';\nimport { TransactionsContext } from '../../contexts/TransactionContext';\nimport useCategories from '../../hooks/useCategories';\n\nconst AddTransaction = ({\n  modalClose\n}) => {\n  const _useContext = useContext(TransactionsContext),\n        _useContext2 = _slicedToArray(_useContext, 2),\n        transactions = _useContext2[0],\n        setTransactions = _useContext2[1];\n\n  const _useCategories = useCategories(),\n        _useCategories2 = _slicedToArray(_useCategories, 2),\n        expensesCategories = _useCategories2[0],\n        earningsCategories = _useCategories2[1];\n\n  const initialFormValues = {\n    amount: '',\n    title: '',\n    description: '',\n    date: new Date(),\n    paid: false,\n    type: 'expense',\n    category: null\n  };\n  const addTransactionSchema = Yup.object({\n    title: Yup.string().max(15, 'Must be 60 characters or less').required('Required'),\n    amount: Yup.string().required('Required'),\n    date: Yup.date().required('Required'),\n    description: Yup.string().max(15, 'Must be 500 characters or less').required('Required'),\n    paid: Yup.boolean().required('Required'),\n    type: Yup.string().oneOf(['income', 'expense']).required('Required'),\n    category: Yup.object().required()\n  });\n\n  const handleSubmit = (values, {\n    resetForm\n  }) => {\n    const newTransaction = _objectSpread({}, values, {\n      category: values.category.value,\n      id: uuidv4(),\n      date: values.date.toUTCString()\n    });\n\n    api.post('/transactions', newTransaction).then(() => {\n      setTransactions([...transactions, newTransaction]);\n      modalClose();\n      resetForm();\n    }).catch(error => console.log(error));\n  };\n\n  const numberMask = createNumberMask({\n    allowDecimal: true,\n    prefix: '',\n    thousandsSeparatorSymbol: '.',\n    decimalSymbol: ','\n  });\n  return React.createElement(Formik, {\n    initialValues: initialFormValues,\n    validationSchema: addTransactionSchema,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, ({\n    values\n  }) => React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(InputItemCenter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(MyTransactionTypeButton, {\n    name: \"type\",\n    value: \"expense\",\n    valueSelected: values.type,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(StyledFaMinus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(FaMinus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })), \"Expense\"), React.createElement(MyTransactionTypeButton, {\n    name: \"type\",\n    value: \"income\",\n    valueSelected: values.type,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(StyledFaPlus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(FaPlus, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  })), \"Income\")), React.createElement(InputGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(MyTextInput, {\n    label: \"Title\",\n    name: \"title\",\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  })), React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(MySelect, {\n    label: \"Category\",\n    name: \"category\",\n    options: values.type === 'expense' ? expensesCategories : earningsCategories,\n    placeholder: \"Select...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }))), React.createElement(InputGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(MyMaskedInput, {\n    mask: numberMask,\n    label: \"Amount\",\n    name: \"amount\",\n    placeholder: \"0.00\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  })), React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(MyDateField, {\n    label: \"Date\",\n    name: \"date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }))), React.createElement(InputItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(MyTextArea, {\n    label: \"Description\",\n    name: \"description\",\n    type: \"textarea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })), React.createElement(MyCheckbox, {\n    name: \"paid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Paid\"), React.createElement(StyledCenteredButton, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nAddTransaction.propTypes = {\n  modalClose: PropTypes.func.isRequired\n};\nexport default AddTransaction;","map":{"version":3,"sources":["/home/lucas/Public/repos/financix/src/components/AddTransaction/index.jsx"],"names":["React","useContext","PropTypes","uuidv4","Formik","Form","Yup","createNumberMask","FaPlus","FaMinus","api","MyMaskedInput","MySelect","MyTextInput","MyTextArea","MyDateField","MyCheckbox","MyTransactionTypeButton","InputItem","InputGroup","InputItemCenter","StyledFaMinus","StyledFaPlus","StyledCenteredButton","TransactionsContext","useCategories","AddTransaction","modalClose","transactions","setTransactions","expensesCategories","earningsCategories","initialFormValues","amount","title","description","date","Date","paid","type","category","addTransactionSchema","object","string","max","required","boolean","oneOf","handleSubmit","values","resetForm","newTransaction","value","id","toUTCString","post","then","catch","error","console","log","numberMask","allowDecimal","prefix","thousandsSeparatorSymbol","decimalSymbol","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport uuidv4 from 'uuid';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport createNumberMask from 'text-mask-addons/dist/createNumberMask';\nimport { FaPlus, FaMinus } from 'react-icons/fa';\nimport api from '../../services/api';\nimport MyMaskedInput from '../FormComponents/MyMaskedInput';\nimport MySelect from '../FormComponents/MySelect';\nimport MyTextInput from '../FormComponents/MyTextInput';\nimport MyTextArea from '../FormComponents/MyTextArea';\nimport MyDateField from '../FormComponents/MyDateField';\nimport MyCheckbox from '../FormComponents/MyCheckbox';\nimport MyTransactionTypeButton from '../FormComponents/MyTransactionTypeButton';\nimport {\n  InputItem,\n  InputGroup,\n  InputItemCenter,\n} from '../FormComponents/styles';\nimport { StyledFaMinus, StyledFaPlus, StyledCenteredButton } from './styles';\nimport { TransactionsContext } from '../../contexts/TransactionContext';\nimport useCategories from '../../hooks/useCategories';\n\nconst AddTransaction = ({ modalClose }) => {\n  const [transactions, setTransactions] = useContext(TransactionsContext);\n\n  const [expensesCategories, earningsCategories] = useCategories();\n\n  const initialFormValues = {\n    amount: '',\n    title: '',\n    description: '',\n    date: new Date(),\n    paid: false,\n    type: 'expense',\n    category: null,\n  };\n\n  const addTransactionSchema = Yup.object({\n    title: Yup.string()\n      .max(15, 'Must be 60 characters or less')\n      .required('Required'),\n    amount: Yup.string().required('Required'),\n    date: Yup.date().required('Required'),\n    description: Yup.string()\n      .max(15, 'Must be 500 characters or less')\n      .required('Required'),\n    paid: Yup.boolean().required('Required'),\n    type: Yup.string()\n      .oneOf(['income', 'expense'])\n      .required('Required'),\n    category: Yup.object().required(),\n  });\n\n  const handleSubmit = (values, { resetForm }) => {\n    const newTransaction = {\n      ...values,\n      category: values.category.value,\n      id: uuidv4(),\n      date: values.date.toUTCString(),\n    };\n\n    api\n      .post('/transactions', newTransaction)\n      .then(() => {\n        setTransactions([...transactions, newTransaction]);\n        modalClose();\n        resetForm();\n      })\n      .catch(error => console.log(error));\n  };\n\n  const numberMask = createNumberMask({\n    allowDecimal: true,\n    prefix: '',\n    thousandsSeparatorSymbol: '.',\n    decimalSymbol: ',',\n  });\n\n  return (\n    <Formik\n      initialValues={initialFormValues}\n      validationSchema={addTransactionSchema}\n      onSubmit={handleSubmit}\n    >\n      {({ values }) => (\n        <Form>\n          <InputItemCenter>\n            <MyTransactionTypeButton\n              name=\"type\"\n              value=\"expense\"\n              valueSelected={values.type}\n            >\n              <StyledFaMinus>\n                <FaMinus />\n              </StyledFaMinus>\n              Expense\n            </MyTransactionTypeButton>\n            <MyTransactionTypeButton\n              name=\"type\"\n              value=\"income\"\n              valueSelected={values.type}\n            >\n              <StyledFaPlus>\n                <FaPlus />\n              </StyledFaPlus>\n              Income\n            </MyTransactionTypeButton>\n          </InputItemCenter>\n\n          <InputGroup>\n            <InputItem>\n              <MyTextInput label=\"Title\" name=\"title\" type=\"text\" />\n            </InputItem>\n            <InputItem>\n              <MySelect\n                label=\"Category\"\n                name=\"category\"\n                options={\n                  values.type === 'expense'\n                    ? expensesCategories\n                    : earningsCategories\n                }\n                placeholder=\"Select...\"\n              />\n            </InputItem>\n          </InputGroup>\n\n          <InputGroup>\n            <InputItem>\n              <MyMaskedInput\n                mask={numberMask}\n                label=\"Amount\"\n                name=\"amount\"\n                placeholder=\"0.00\"\n              />\n            </InputItem>\n            <InputItem>\n              <MyDateField label=\"Date\" name=\"date\" />\n            </InputItem>\n          </InputGroup>\n\n          <InputItem>\n            <MyTextArea\n              label=\"Description\"\n              name=\"description\"\n              type=\"textarea\"\n            />\n          </InputItem>\n          <MyCheckbox name=\"paid\">Paid</MyCheckbox>\n          <StyledCenteredButton type=\"submit\">Submit</StyledCenteredButton>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nAddTransaction.propTypes = {\n  modalClose: PropTypes.func.isRequired,\n};\n\nexport default AddTransaction;\n"]},"metadata":{},"sourceType":"module"}