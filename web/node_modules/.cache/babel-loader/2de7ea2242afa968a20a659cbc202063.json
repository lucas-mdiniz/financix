{"ast":null,"code":"import parseCurrencyFloat from '../utils/parseCurrencyFloat';\nimport api from '../services/api';\nexport default (transactions => {\n  let income = 0;\n  let expenses = 0;\n  let predictedIncome = 0;\n  let predictedExpenses = 0; // vou filtrar por pago ou n e add, depois fazer o post\n\n  transactions.forEach(transaction => {\n    if (transaction.type === 'expense') {\n      if (transaction.paid) {\n        expenses += parseCurrencyFloat(transaction.amount);\n      } else {\n        predictedExpenses += parseCurrencyFloat(transaction.amount);\n      }\n    } else if (transaction.type === 'income') {\n      if (transaction.paid) {\n        income += parseCurrencyFloat(transaction.amount);\n      } else {\n        predictedIncome += parseCurrencyFloat(transaction.amount);\n      }\n    }\n  });\n  predictedExpenses += expenses;\n  predictedIncome += income;\n  const balance = income - expenses;\n  const predictedBalance = predictedIncome - predictedExpenses;\n  api.post('/totals', {\n    income,\n    predictedIncome,\n    expenses,\n    predictedExpenses,\n    balance,\n    predictedBalance\n  }).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return [income, predictedIncome, expenses, predictedExpenses, balance, predictedBalance];\n});","map":{"version":3,"sources":["/home/lucas/Public/repos/financix/src/backend/totals.js"],"names":["parseCurrencyFloat","api","transactions","income","expenses","predictedIncome","predictedExpenses","forEach","transaction","type","paid","amount","balance","predictedBalance","post","then","response","console","log","catch","error"],"mappings":"AAAA,OAAOA,kBAAP,MAA+B,6BAA/B;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AAEA,gBAAeC,YAAY,IAAI;AAC7B,MAAIC,MAAM,GAAG,CAAb;AACA,MAAIC,QAAQ,GAAG,CAAf;AACA,MAAIC,eAAe,GAAG,CAAtB;AACA,MAAIC,iBAAiB,GAAG,CAAxB,CAJ6B,CAM7B;;AACAJ,EAAAA,YAAY,CAACK,OAAb,CAAqBC,WAAW,IAAI;AAClC,QAAIA,WAAW,CAACC,IAAZ,KAAqB,SAAzB,EAAoC;AAClC,UAAID,WAAW,CAACE,IAAhB,EAAsB;AACpBN,QAAAA,QAAQ,IAAIJ,kBAAkB,CAACQ,WAAW,CAACG,MAAb,CAA9B;AACD,OAFD,MAEO;AACLL,QAAAA,iBAAiB,IAAIN,kBAAkB,CAACQ,WAAW,CAACG,MAAb,CAAvC;AACD;AACF,KAND,MAMO,IAAIH,WAAW,CAACC,IAAZ,KAAqB,QAAzB,EAAmC;AACxC,UAAID,WAAW,CAACE,IAAhB,EAAsB;AACpBP,QAAAA,MAAM,IAAIH,kBAAkB,CAACQ,WAAW,CAACG,MAAb,CAA5B;AACD,OAFD,MAEO;AACLN,QAAAA,eAAe,IAAIL,kBAAkB,CAACQ,WAAW,CAACG,MAAb,CAArC;AACD;AACF;AACF,GAdD;AAgBAL,EAAAA,iBAAiB,IAAIF,QAArB;AACAC,EAAAA,eAAe,IAAIF,MAAnB;AACA,QAAMS,OAAO,GAAGT,MAAM,GAAGC,QAAzB;AACA,QAAMS,gBAAgB,GAAGR,eAAe,GAAGC,iBAA3C;AAEAL,EAAAA,GAAG,CACAa,IADH,CACQ,SADR,EACmB;AACfX,IAAAA,MADe;AAEfE,IAAAA,eAFe;AAGfD,IAAAA,QAHe;AAIfE,IAAAA,iBAJe;AAKfM,IAAAA,OALe;AAMfC,IAAAA;AANe,GADnB,EASGE,IATH,CASQ,UAASC,QAAT,EAAmB;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,GAXH,EAYGG,KAZH,CAYS,UAASC,KAAT,EAAgB;AACrBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,GAdH;AAgBA,SAAO,CACLjB,MADK,EAELE,eAFK,EAGLD,QAHK,EAILE,iBAJK,EAKLM,OALK,EAMLC,gBANK,CAAP;AAQD,CApDD","sourcesContent":["import parseCurrencyFloat from '../utils/parseCurrencyFloat';\nimport api from '../services/api';\n\nexport default transactions => {\n  let income = 0;\n  let expenses = 0;\n  let predictedIncome = 0;\n  let predictedExpenses = 0;\n\n  // vou filtrar por pago ou n e add, depois fazer o post\n  transactions.forEach(transaction => {\n    if (transaction.type === 'expense') {\n      if (transaction.paid) {\n        expenses += parseCurrencyFloat(transaction.amount);\n      } else {\n        predictedExpenses += parseCurrencyFloat(transaction.amount);\n      }\n    } else if (transaction.type === 'income') {\n      if (transaction.paid) {\n        income += parseCurrencyFloat(transaction.amount);\n      } else {\n        predictedIncome += parseCurrencyFloat(transaction.amount);\n      }\n    }\n  });\n\n  predictedExpenses += expenses;\n  predictedIncome += income;\n  const balance = income - expenses;\n  const predictedBalance = predictedIncome - predictedExpenses;\n\n  api\n    .post('/totals', {\n      income,\n      predictedIncome,\n      expenses,\n      predictedExpenses,\n      balance,\n      predictedBalance,\n    })\n    .then(function(response) {\n      console.log(response);\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n\n  return [\n    income,\n    predictedIncome,\n    expenses,\n    predictedExpenses,\n    balance,\n    predictedBalance,\n  ];\n};\n"]},"metadata":{},"sourceType":"module"}